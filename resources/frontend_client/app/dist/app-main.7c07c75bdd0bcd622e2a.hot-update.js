/*!
 * /*
 * * This file is subject to the terms and conditions defined in
 *  * file 'LICENSE.txt', which is part of this source code package.
 *  * /
 *
 */
"use strict";
self["webpackHotUpdate"]("app-main",{

/***/ "./admin/settings/components/CloudPanel/CloudPanel.styled.tsx":
/*!********************************************************************!*\
  !*** ./admin/settings/components/CloudPanel/CloudPanel.styled.tsx ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LargeIconContainer: () => (/* binding */ LargeIconContainer),
/* harmony export */   MigrationCard: () => (/* binding */ MigrationCard)
/* harmony export */ });
/* harmony import */ var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/styled/base */ "../../../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");
/* harmony import */ var metabase_lib_colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! metabase/lib/colors */ "./lib/colors/index.ts");
/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ../../../node_modules/react-refresh/runtime.js */ "../../../node_modules/react-refresh/runtime.js");


function _EMOTION_STRINGIFIED_CSS_ERROR__() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}

const MigrationCard = /*#__PURE__*/(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__["default"])("div",  false ? 0 : {
  target: "e1nq2zrz1",
  label: "MigrationCard"
})( false ? 0 : {
  name: "1amobk7",
  styles: "border:1px solid var(--mb-color-border);border-radius:0.5rem;padding:2rem 3rem",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hdW1rYXJyaW5nZS9Eb3dubG9hZHMvRGF0YUxNd2hpdGUgdGhlbWUvb2dtZXRhYmFzZS9tZXRhYmFzZS9mcm9udGVuZC9zcmMvbWV0YWJhc2UvYWRtaW4vc2V0dGluZ3MvY29tcG9uZW50cy9DbG91ZFBhbmVsL0Nsb3VkUGFuZWwuc3R5bGVkLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJdUMiLCJmaWxlIjoiL1VzZXJzL2F1bWthcnJpbmdlL0Rvd25sb2Fkcy9EYXRhTE13aGl0ZSB0aGVtZS9vZ21ldGFiYXNlL21ldGFiYXNlL2Zyb250ZW5kL3NyYy9tZXRhYmFzZS9hZG1pbi9zZXR0aW5ncy9jb21wb25lbnRzL0Nsb3VkUGFuZWwvQ2xvdWRQYW5lbC5zdHlsZWQudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0eWxlZCBmcm9tIFwiQGVtb3Rpb24vc3R5bGVkXCI7XG5cbmltcG9ydCB7IGFscGhhIH0gZnJvbSBcIm1ldGFiYXNlL2xpYi9jb2xvcnNcIjtcblxuZXhwb3J0IGNvbnN0IE1pZ3JhdGlvbkNhcmQgPSBzdHlsZWQuZGl2YFxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1tYi1jb2xvci1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gIHBhZGRpbmc6IDJyZW0gM3JlbTtcbmA7XG5cbmV4cG9ydCBjb25zdCBMYXJnZUljb25Db250YWluZXIgPSBzdHlsZWQuZGl2PHtcbiAgY29sb3I6IHN0cmluZztcbn0+YFxuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZmxleC1zaHJpbms6IDA7XG4gIGhlaWdodDogNHJlbTtcbiAgd2lkdGg6IDRyZW07XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYmFja2dyb3VuZDogJHtwcm9wcyA9PiBhbHBoYShwcm9wcy5jb2xvciwgMC4xNSl9O1xuICBjb2xvcjogJHtwcm9wcyA9PiBwcm9wcy5jb2xvcn07XG5gO1xuIl19 */",
  toString: _EMOTION_STRINGIFIED_CSS_ERROR__
});
const LargeIconContainer = /*#__PURE__*/(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__["default"])("div",  false ? 0 : {
  target: "e1nq2zrz0",
  label: "LargeIconContainer"
})("display:flex;align-items:center;justify-content:center;flex-shrink:0;height:4rem;width:4rem;border-radius:50%;background:", props => (0,metabase_lib_colors__WEBPACK_IMPORTED_MODULE_1__.alpha)(props.color, 0.15), ";color:", props => props.color, ";" + ( false ? 0 : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hdW1rYXJyaW5nZS9Eb3dubG9hZHMvRGF0YUxNd2hpdGUgdGhlbWUvb2dtZXRhYmFzZS9tZXRhYmFzZS9mcm9udGVuZC9zcmMvbWV0YWJhc2UvYWRtaW4vc2V0dGluZ3MvY29tcG9uZW50cy9DbG91ZFBhbmVsL0Nsb3VkUGFuZWwuc3R5bGVkLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFZRSIsImZpbGUiOiIvVXNlcnMvYXVta2FycmluZ2UvRG93bmxvYWRzL0RhdGFMTXdoaXRlIHRoZW1lL29nbWV0YWJhc2UvbWV0YWJhc2UvZnJvbnRlbmQvc3JjL21ldGFiYXNlL2FkbWluL3NldHRpbmdzL2NvbXBvbmVudHMvQ2xvdWRQYW5lbC9DbG91ZFBhbmVsLnN0eWxlZC50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3R5bGVkIGZyb20gXCJAZW1vdGlvbi9zdHlsZWRcIjtcblxuaW1wb3J0IHsgYWxwaGEgfSBmcm9tIFwibWV0YWJhc2UvbGliL2NvbG9yc1wiO1xuXG5leHBvcnQgY29uc3QgTWlncmF0aW9uQ2FyZCA9IHN0eWxlZC5kaXZgXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLW1iLWNvbG9yLWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcbiAgcGFkZGluZzogMnJlbSAzcmVtO1xuYDtcblxuZXhwb3J0IGNvbnN0IExhcmdlSWNvbkNvbnRhaW5lciA9IHN0eWxlZC5kaXY8e1xuICBjb2xvcjogc3RyaW5nO1xufT5gXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmbGV4LXNocmluazogMDtcbiAgaGVpZ2h0OiA0cmVtO1xuICB3aWR0aDogNHJlbTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiAke3Byb3BzID0+IGFscGhhKHByb3BzLmNvbG9yLCAwLjE1KX07XG4gIGNvbG9yOiAke3Byb3BzID0+IHByb3BzLmNvbG9yfTtcbmA7XG4iXX0= */"));

const $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;
const $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(
	$ReactRefreshModuleId$
);

function $ReactRefreshModuleRuntime$(exports) {
	if (true) {
		let errorOverlay;
		if (true) {
			errorOverlay = false;
		}
		let testMode;
		if (typeof __react_refresh_test__ !== 'undefined') {
			testMode = __react_refresh_test__;
		}
		return __react_refresh_utils__.executeRuntime(
			exports,
			$ReactRefreshModuleId$,
			module.hot,
			errorOverlay,
			testMode
		);
	}
}

if (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {
	$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);
} else {
	$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);
}

/***/ }),

/***/ "./admin/settings/components/CloudPanel/CloudPanel.tsx":
/*!*************************************************************!*\
  !*** ./admin/settings/components/CloudPanel/CloudPanel.tsx ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloudPanel: () => (/* binding */ CloudPanel)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var metabase_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! metabase/api */ "./api/index.ts");
/* harmony import */ var metabase_common_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! metabase/common/hooks */ "./common/hooks/index.ts");
/* harmony import */ var metabase_components_LoadingAndErrorWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! metabase/components/LoadingAndErrorWrapper */ "./components/LoadingAndErrorWrapper/index.jsx");
/* harmony import */ var metabase_lib_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! metabase/lib/redux */ "./lib/redux/index.ts");
/* harmony import */ var metabase_redux_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! metabase/redux/settings */ "./redux/settings.ts");
/* harmony import */ var metabase_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! metabase/ui */ "./ui/index.ts");
/* harmony import */ var _MigrationCreationError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MigrationCreationError */ "./admin/settings/components/CloudPanel/MigrationCreationError.tsx");
/* harmony import */ var _MigrationError__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MigrationError */ "./admin/settings/components/CloudPanel/MigrationError.tsx");
/* harmony import */ var _MigrationInProgress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MigrationInProgress */ "./admin/settings/components/CloudPanel/MigrationInProgress.tsx");
/* harmony import */ var _MigrationSuccess__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./MigrationSuccess */ "./admin/settings/components/CloudPanel/MigrationSuccess.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils */ "./admin/settings/components/CloudPanel/utils.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-runtime */ "../../../node_modules/react/jsx-runtime.js");
/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ../../../node_modules/react-refresh/runtime.js */ "../../../node_modules/react-refresh/runtime.js");

var _s = __webpack_require__.$Refresh$.signature();














const CloudPanel = _ref => {
  _s();
  let {
    getPollingInterval = _utils__WEBPACK_IMPORTED_MODULE_11__.defaultGetPollingInterval,
    onMigrationStart = _utils__WEBPACK_IMPORTED_MODULE_11__.openCheckoutInNewTab
  } = _ref;
  const dispatch = (0,metabase_lib_redux__WEBPACK_IMPORTED_MODULE_4__.useDispatch)();
  const [pollingInterval, setPollingInterval] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined);
  const {
    data: migration,
    isLoading,
    error
  } = (0,metabase_api__WEBPACK_IMPORTED_MODULE_1__.useGetCloudMigrationQuery)(undefined, {
    refetchOnMountOrArgChange: true,
    pollingInterval
  });
  const migrationState = migration?.state ?? "uninitialized";
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function syncPollingInterval() {
    if (migration) {
      setPollingInterval(getPollingInterval(migration));
    }
  }, [migration, getPollingInterval]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function syncSiteSettings() {
    if (migrationState) {
      dispatch((0,metabase_redux_settings__WEBPACK_IMPORTED_MODULE_5__.refreshSiteSettings)({}));
    }
  }, [dispatch, migrationState]);
  const storeUrl = (0,metabase_common_hooks__WEBPACK_IMPORTED_MODULE_2__.useSetting)("store-url");
  const checkoutUrl = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return migration ? `${storeUrl}/checkout?migration-id=${migration.external_id}` : `${storeUrl}/checkout`;
  }, [migration, storeUrl]);
  const [createCloudMigration, createCloudMigrationResult] = (0,metabase_api__WEBPACK_IMPORTED_MODULE_1__.useCreateCloudMigrationMutation)();
  const handleCreateMigration = async () => {
    const newMigration = await createCloudMigration().unwrap();
    await dispatch((0,metabase_redux_settings__WEBPACK_IMPORTED_MODULE_5__.refreshSiteSettings)({}));
    onMigrationStart(storeUrl, newMigration);
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(metabase_components_LoadingAndErrorWrapper__WEBPACK_IMPORTED_MODULE_3__["default"], {
    loading: isLoading,
    error: error,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_6__.Box, {
      maw: "36rem",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_6__.Box, {
        mt: "2rem",
        children: [migration && (0,_utils__WEBPACK_IMPORTED_MODULE_11__.isInProgressMigration)(migration) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_MigrationInProgress__WEBPACK_IMPORTED_MODULE_9__.MigrationInProgress, {
          migration: migration,
          checkoutUrl: checkoutUrl
        }), migration && migrationState === "done" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_MigrationSuccess__WEBPACK_IMPORTED_MODULE_10__.MigrationSuccess, {
          migration: migration,
          restartMigration: handleCreateMigration,
          isRestarting: createCloudMigrationResult.isLoading,
          checkoutUrl: checkoutUrl
        }), migration && migrationState === "error" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_MigrationError__WEBPACK_IMPORTED_MODULE_8__.MigrationError, {
          migration: migration
        }), createCloudMigrationResult.isError && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_MigrationCreationError__WEBPACK_IMPORTED_MODULE_7__.MigrationCreationError, {
          error: createCloudMigrationResult.error
        })]
      })
    })
  });
};
_s(CloudPanel, "jbUP6JBNC8D6bf45VNZa9+7kYUE=", false, function () {
  return [metabase_lib_redux__WEBPACK_IMPORTED_MODULE_4__.useDispatch, metabase_api__WEBPACK_IMPORTED_MODULE_1__.useGetCloudMigrationQuery, metabase_common_hooks__WEBPACK_IMPORTED_MODULE_2__.useSetting, metabase_api__WEBPACK_IMPORTED_MODULE_1__.useCreateCloudMigrationMutation];
});
_c = CloudPanel;
var _c;
__webpack_require__.$Refresh$.register(_c, "CloudPanel");

const $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;
const $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(
	$ReactRefreshModuleId$
);

function $ReactRefreshModuleRuntime$(exports) {
	if (true) {
		let errorOverlay;
		if (true) {
			errorOverlay = false;
		}
		let testMode;
		if (typeof __react_refresh_test__ !== 'undefined') {
			testMode = __react_refresh_test__;
		}
		return __react_refresh_utils__.executeRuntime(
			exports,
			$ReactRefreshModuleId$,
			module.hot,
			errorOverlay,
			testMode
		);
	}
}

if (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {
	$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);
} else {
	$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);
}

/***/ }),

/***/ "./admin/settings/components/CloudPanel/MigrationCreationError.tsx":
/*!*************************************************************************!*\
  !*** ./admin/settings/components/CloudPanel/MigrationCreationError.tsx ***!
  \*************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MigrationCreationError: () => (/* binding */ MigrationCreationError)
/* harmony export */ });
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ttag */ "../../../node_modules/ttag/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var metabase_core_components_Link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! metabase/core/components/Link */ "./core/components/Link/index.ts");
/* harmony import */ var metabase_lib_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! metabase/lib/colors */ "./lib/colors/index.ts");
/* harmony import */ var metabase_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! metabase/ui */ "./ui/index.ts");
/* harmony import */ var _CloudPanel_styled__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CloudPanel.styled */ "./admin/settings/components/CloudPanel/CloudPanel.styled.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "../../../node_modules/react/jsx-runtime.js");
/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ../../../node_modules/react-refresh/runtime.js */ "../../../node_modules/react-refresh/runtime.js");








const MigrationCreationError = _ref => {
  let {
    error
  } = _ref;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_CloudPanel_styled__WEBPACK_IMPORTED_MODULE_4__.MigrationCard, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Flex, {
      gap: "md",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_CloudPanel_styled__WEBPACK_IMPORTED_MODULE_4__.LargeIconContainer, {
        color: (0,metabase_lib_colors__WEBPACK_IMPORTED_MODULE_2__.color)("error"),
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, {
          size: "1.5rem",
          name: "warning"
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Box, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {
          fw: "bold",
          children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Migration to Metabase Cloud failed`
        }), error.data && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {
          mt: ".5rem",
          children: error.data
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {
          mt: "1rem",
          children: (0,ttag__WEBPACK_IMPORTED_MODULE_0__.c)("{0} is an email address").jt`Please try again later, and reach out to us at ${/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(metabase_core_components_Link__WEBPACK_IMPORTED_MODULE_1__["default"], {
            variant: "brand",
            to: "mailto:help@metabase.com",
            children: "help@metabase.com"
          }, "email")} if you need help.`
        })]
      })]
    })
  });
};
_c = MigrationCreationError;
var _c;
__webpack_require__.$Refresh$.register(_c, "MigrationCreationError");

const $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;
const $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(
	$ReactRefreshModuleId$
);

function $ReactRefreshModuleRuntime$(exports) {
	if (true) {
		let errorOverlay;
		if (true) {
			errorOverlay = false;
		}
		let testMode;
		if (typeof __react_refresh_test__ !== 'undefined') {
			testMode = __react_refresh_test__;
		}
		return __react_refresh_utils__.executeRuntime(
			exports,
			$ReactRefreshModuleId$,
			module.hot,
			errorOverlay,
			testMode
		);
	}
}

if (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {
	$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);
} else {
	$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);
}

/***/ }),

/***/ "./admin/settings/components/CloudPanel/MigrationError.tsx":
/*!*****************************************************************!*\
  !*** ./admin/settings/components/CloudPanel/MigrationError.tsx ***!
  \*****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MigrationError: () => (/* binding */ MigrationError)
/* harmony export */ });
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ttag */ "../../../node_modules/ttag/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var metabase_core_components_Link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! metabase/core/components/Link */ "./core/components/Link/index.ts");
/* harmony import */ var metabase_lib_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! metabase/lib/colors */ "./lib/colors/index.ts");
/* harmony import */ var metabase_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! metabase/ui */ "./ui/index.ts");
/* harmony import */ var _CloudPanel_styled__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CloudPanel.styled */ "./admin/settings/components/CloudPanel/CloudPanel.styled.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ "./admin/settings/components/CloudPanel/utils.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "../../../node_modules/react/jsx-runtime.js");
/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ../../../node_modules/react-refresh/runtime.js */ "../../../node_modules/react-refresh/runtime.js");









const MigrationError = _ref => {
  let {
    migration
  } = _ref;
  const failedAt = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.getMigrationEventTime)(migration.updated_at);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_CloudPanel_styled__WEBPACK_IMPORTED_MODULE_4__.MigrationCard, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Flex, {
      gap: "md",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_CloudPanel_styled__WEBPACK_IMPORTED_MODULE_4__.LargeIconContainer, {
        color: (0,metabase_lib_colors__WEBPACK_IMPORTED_MODULE_2__.color)("error"),
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, {
          size: "1.5rem",
          name: "warning"
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Box, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {
          fw: "bold",
          children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Migration to Metabase Cloud failed`
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {
          mt: "1rem",
          children: (0,ttag__WEBPACK_IMPORTED_MODULE_0__.c)("{0} is an email address").jt`Please try again later, and reach out to us at ${/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_core_components_Link__WEBPACK_IMPORTED_MODULE_1__["default"], {
            variant: "brand",
            to: "mailto:help@metabase.com",
            children: "help@metabase.com"
          }, "email")} if you need help.`
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {
          size: "sm",
          mt: ".5rem",
          children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Migration to Metabase Cloud failed on ${failedAt}.`
        })]
      })]
    })
  });
};
_c = MigrationError;
var _c;
__webpack_require__.$Refresh$.register(_c, "MigrationError");

const $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;
const $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(
	$ReactRefreshModuleId$
);

function $ReactRefreshModuleRuntime$(exports) {
	if (true) {
		let errorOverlay;
		if (true) {
			errorOverlay = false;
		}
		let testMode;
		if (typeof __react_refresh_test__ !== 'undefined') {
			testMode = __react_refresh_test__;
		}
		return __react_refresh_utils__.executeRuntime(
			exports,
			$ReactRefreshModuleId$,
			module.hot,
			errorOverlay,
			testMode
		);
	}
}

if (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {
	$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);
} else {
	$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);
}

/***/ }),

/***/ "./admin/settings/components/CloudPanel/MigrationInProgress.tsx":
/*!**********************************************************************!*\
  !*** ./admin/settings/components/CloudPanel/MigrationInProgress.tsx ***!
  \**********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MigrationInProgress: () => (/* binding */ MigrationInProgress)
/* harmony export */ });
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ttag */ "../../../node_modules/ttag/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var metabase_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! metabase/api */ "./api/index.ts");
/* harmony import */ var metabase_common_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! metabase/common/hooks */ "./common/hooks/index.ts");
/* harmony import */ var metabase_core_components_ExternalLink__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! metabase/core/components/ExternalLink */ "./core/components/ExternalLink/index.ts");
/* harmony import */ var metabase_hooks_use_toggle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! metabase/hooks/use-toggle */ "./hooks/use-toggle.ts");
/* harmony import */ var metabase_lib_colors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! metabase/lib/colors */ "./lib/colors/index.ts");
/* harmony import */ var metabase_lib_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! metabase/lib/redux */ "./lib/redux/index.ts");
/* harmony import */ var metabase_redux_undo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! metabase/redux/undo */ "./redux/undo.ts");
/* harmony import */ var metabase_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! metabase/ui */ "./ui/index.ts");
/* harmony import */ var _CloudPanel_styled__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CloudPanel.styled */ "./admin/settings/components/CloudPanel/CloudPanel.styled.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-runtime */ "../../../node_modules/react/jsx-runtime.js");
/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ../../../node_modules/react-refresh/runtime.js */ "../../../node_modules/react-refresh/runtime.js");

var _s = __webpack_require__.$Refresh$.signature();













const progressMessage = {
  init: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Talking to Metabase Cloud...`,
  setup: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Talking to Metabase Cloud...`,
  dump: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Taking a snapshot of this instance...`,
  upload: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Uploading the snapshot to the cloud...`
};
const MigrationInProgress = _ref => {
  _s();
  let {
    migration,
    checkoutUrl
  } = _ref;
  const dispatch = (0,metabase_lib_redux__WEBPACK_IMPORTED_MODULE_6__.useDispatch)();
  const readOnly = (0,metabase_common_hooks__WEBPACK_IMPORTED_MODULE_2__.useSetting)("read-only-mode");
  const [isModalOpen, {
    turnOn: openModal,
    turnOff: closeModal
  }] = (0,metabase_hooks_use_toggle__WEBPACK_IMPORTED_MODULE_4__.useToggle)(false);
  const [cancelCloudMigration] = (0,metabase_api__WEBPACK_IMPORTED_MODULE_1__.useCancelCloudMigrationMutation)();
  const handleCancelMigration = async () => {
    closeModal();
    await cancelCloudMigration();
    dispatch((0,metabase_redux_undo__WEBPACK_IMPORTED_MODULE_7__.addUndo)({
      icon: "info_filled",
      message: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Migration to Metabase Cloud has been canceled.`,
      undo: false
    }));
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_CloudPanel_styled__WEBPACK_IMPORTED_MODULE_9__.MigrationCard, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Flex, {
        gap: "1.5rem",
        align: "start",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Flex, {
          bg: (0,metabase_lib_colors__WEBPACK_IMPORTED_MODULE_5__.color)("brand-light"),
          h: "64px",
          style: {
            borderRadius: "50%",
            flex: "0 0 64px"
          },
          justify: "center",
          align: "center",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Icon, {
            name: "cloud_filled",
            size: "2.375rem",
            style: {
              color: (0,metabase_lib_colors__WEBPACK_IMPORTED_MODULE_5__.color)("brand")
            }
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Box, {
          style: {
            flex: "1 0 0"
          },
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Text, {
            fw: "bold",
            children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Migrating to Metabase Cloud…`
          }), readOnly ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.List, {
            size: "md",
            mt: "md",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.List.Item, {
              children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`To complete the migration, set up your account in the Metabase Store`
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.List.Item, {
              children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`While we snapshot your Metabase data, people will be able to view questions and dashboards, but they won't be able to edit or create anything new. It should only take up to 30 minutes`
            })]
          }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Text, {
            mt: "md",
            children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`To complete the migration, set up your account in the Metabase Store`
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Box, {
            mt: "lg",
            mb: "md",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Text, {
              size: "md",
              c: "text-medium",
              children: progressMessage[migration.state]
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Progress, {
              value: migration.progress,
              mt: ".25rem"
            })]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Flex, {
            justify: "space-between",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Button, {
              mt: "md",
              onClick: openModal,
              c: "error",
              children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Cancel migration`
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Button, {
              mt: "md",
              component: metabase_core_components_ExternalLink__WEBPACK_IMPORTED_MODULE_3__["default"],
              href: checkoutUrl,
              variant: "filled",
              children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Go to Metabase Store`
            })]
          })]
        })]
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Modal.Root, {
      opened: isModalOpen,
      onClose: closeModal,
      size: "lg",
      "data-testid": "cancel-cloud-migration-confirmation",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Modal.Overlay, {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Modal.Content, {
        p: "1rem",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Modal.Header, {
          pt: "1rem",
          px: "1rem",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Modal.Title, {
            children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Cancel migration?`
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Modal.CloseButton, {})]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Modal.Body, {
          mt: "md",
          px: "1rem",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Text, {
            children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`We will cancel the migration process. After that, this instance will no longer be read-only.`
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Flex, {
            justify: "end",
            mt: "3.5rem",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_8__.Button, {
              variant: "filled",
              color: "error",
              onClick: handleCancelMigration,
              children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Cancel migration`
            })
          })]
        })]
      })]
    })]
  });
};
_s(MigrationInProgress, "sS76ByKFi1acrEAAjth9TrCHJQ0=", false, function () {
  return [metabase_lib_redux__WEBPACK_IMPORTED_MODULE_6__.useDispatch, metabase_common_hooks__WEBPACK_IMPORTED_MODULE_2__.useSetting, metabase_hooks_use_toggle__WEBPACK_IMPORTED_MODULE_4__.useToggle, metabase_api__WEBPACK_IMPORTED_MODULE_1__.useCancelCloudMigrationMutation];
});
_c = MigrationInProgress;
var _c;
__webpack_require__.$Refresh$.register(_c, "MigrationInProgress");

const $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;
const $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(
	$ReactRefreshModuleId$
);

function $ReactRefreshModuleRuntime$(exports) {
	if (true) {
		let errorOverlay;
		if (true) {
			errorOverlay = false;
		}
		let testMode;
		if (typeof __react_refresh_test__ !== 'undefined') {
			testMode = __react_refresh_test__;
		}
		return __react_refresh_utils__.executeRuntime(
			exports,
			$ReactRefreshModuleId$,
			module.hot,
			errorOverlay,
			testMode
		);
	}
}

if (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {
	$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);
} else {
	$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);
}

/***/ }),

/***/ "./admin/settings/components/CloudPanel/MigrationSuccess.tsx":
/*!*******************************************************************!*\
  !*** ./admin/settings/components/CloudPanel/MigrationSuccess.tsx ***!
  \*******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MigrationSuccess: () => (/* binding */ MigrationSuccess)
/* harmony export */ });
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ttag */ "../../../node_modules/ttag/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var metabase_core_components_ExternalLink__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! metabase/core/components/ExternalLink */ "./core/components/ExternalLink/index.ts");
/* harmony import */ var metabase_lib_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! metabase/lib/colors */ "./lib/colors/index.ts");
/* harmony import */ var metabase_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! metabase/ui */ "./ui/index.ts");
/* harmony import */ var _CloudPanel_styled__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CloudPanel.styled */ "./admin/settings/components/CloudPanel/CloudPanel.styled.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ "./admin/settings/components/CloudPanel/utils.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "../../../node_modules/react/jsx-runtime.js");
/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ../../../node_modules/react-refresh/runtime.js */ "../../../node_modules/react-refresh/runtime.js");










const MigrationSuccess = _ref => {
  let {
    migration,
    restartMigration,
    isRestarting,
    checkoutUrl
  } = _ref;
  const uploadedAt = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.getMigrationEventTime)(migration.updated_at);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_CloudPanel_styled__WEBPACK_IMPORTED_MODULE_4__.MigrationCard, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Flex, {
        gap: "md",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_CloudPanel_styled__WEBPACK_IMPORTED_MODULE_4__.LargeIconContainer, {
          color: (0,metabase_lib_colors__WEBPACK_IMPORTED_MODULE_2__.color)("success"),
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, {
            size: "1.5rem",
            name: "check"
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Box, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {
            fw: "bold",
            mb: "0.5rem",
            children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`The snapshot has been uploaded to the Cloud`
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {
            size: "sm",
            children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`On ${uploadedAt}`
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {
            my: "2rem",
            children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`To complete the migration, set up your account in the Metabase Store`
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Box, {
            mt: "1.5rem",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_core_components_ExternalLink__WEBPACK_IMPORTED_MODULE_1__["default"], {
              href: checkoutUrl,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Button, {
                variant: "filled",
                children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Go to Metabase Store`
              })
            })
          })]
        })]
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(metabase_ui__WEBPACK_IMPORTED_MODULE_3__.Button, {
      variant: "subtle",
      onClick: restartMigration,
      disabled: isRestarting,
      px: "0",
      mt: "1rem",
      children: ttag__WEBPACK_IMPORTED_MODULE_0__.t`Restart the process`
    })]
  });
};
_c = MigrationSuccess;
var _c;
__webpack_require__.$Refresh$.register(_c, "MigrationSuccess");

const $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;
const $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(
	$ReactRefreshModuleId$
);

function $ReactRefreshModuleRuntime$(exports) {
	if (true) {
		let errorOverlay;
		if (true) {
			errorOverlay = false;
		}
		let testMode;
		if (typeof __react_refresh_test__ !== 'undefined') {
			testMode = __react_refresh_test__;
		}
		return __react_refresh_utils__.executeRuntime(
			exports,
			$ReactRefreshModuleId$,
			module.hot,
			errorOverlay,
			testMode
		);
	}
}

if (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {
	$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);
} else {
	$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);
}

/***/ }),

/***/ "./admin/settings/components/CloudPanel/index.ts":
/*!*******************************************************!*\
  !*** ./admin/settings/components/CloudPanel/index.ts ***!
  \*******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloudPanel: () => (/* reexport safe */ _CloudPanel__WEBPACK_IMPORTED_MODULE_0__.CloudPanel)
/* harmony export */ });
/* harmony import */ var _CloudPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CloudPanel */ "./admin/settings/components/CloudPanel/CloudPanel.tsx");
/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ../../../node_modules/react-refresh/runtime.js */ "../../../node_modules/react-refresh/runtime.js");



const $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;
const $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(
	$ReactRefreshModuleId$
);

function $ReactRefreshModuleRuntime$(exports) {
	if (true) {
		let errorOverlay;
		if (true) {
			errorOverlay = false;
		}
		let testMode;
		if (typeof __react_refresh_test__ !== 'undefined') {
			testMode = __react_refresh_test__;
		}
		return __react_refresh_utils__.executeRuntime(
			exports,
			$ReactRefreshModuleId$,
			module.hot,
			errorOverlay,
			testMode
		);
	}
}

if (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {
	$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);
} else {
	$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);
}

/***/ }),

/***/ "./admin/settings/components/CloudPanel/utils.ts":
/*!*******************************************************!*\
  !*** ./admin/settings/components/CloudPanel/utils.ts ***!
  \*******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   defaultGetPollingInterval: () => (/* binding */ defaultGetPollingInterval),
/* harmony export */   getMigrationEventTime: () => (/* binding */ getMigrationEventTime),
/* harmony export */   getStartedVisibleStates: () => (/* binding */ getStartedVisibleStates),
/* harmony export */   isInProgressMigration: () => (/* binding */ isInProgressMigration),
/* harmony export */   isInProgressState: () => (/* binding */ isInProgressState),
/* harmony export */   openCheckoutInNewTab: () => (/* binding */ openCheckoutInNewTab),
/* harmony export */   progressStates: () => (/* binding */ progressStates)
/* harmony export */ });
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ "../../../node_modules/dayjs/dayjs.min.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);
/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "../../../node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ../../../node_modules/react-refresh/runtime.js */ "../../../node_modules/react-refresh/runtime.js");


const getStartedVisibleStates = new Set(["uninitialized", "cancelled", "error"]);
const progressStates = new Set(["init", "setup", "dump", "upload"]);
const isInProgressState = state => {
  return progressStates.has(state);
};
const isInProgressMigration = migration => {
  return isInProgressState(migration.state);
};
const SECOND = 1000;
const defaultPollingIntervalsByState = {
  uninitialized: undefined,
  init: 1 * SECOND,
  setup: 1 * SECOND,
  dump: 3 * SECOND,
  upload: 3 * SECOND,
  cancelled: undefined,
  error: undefined,
  done: undefined
};
const defaultGetPollingInterval = migration => {
  const {
    progress,
    state
  } = migration;
  const defaultPollingInterval = defaultPollingIntervalsByState[state];
  const isAlmostDone = progress > 90 && progress < 100;
  if (isAlmostDone) {
    return 1 * SECOND;
  }
  return defaultPollingInterval;
};
const getMigrationEventTime = isoString => dayjs__WEBPACK_IMPORTED_MODULE_0___default()(isoString).format("MMMM DD, YYYY, hh:mm A");
const openCheckoutInNewTab = (storeUrl, migration) => {
  window.open(`${storeUrl}/checkout?migration-id=${migration.external_id}`, "_blank")?.focus();
};

const $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;
const $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(
	$ReactRefreshModuleId$
);

function $ReactRefreshModuleRuntime$(exports) {
	if (true) {
		let errorOverlay;
		if (true) {
			errorOverlay = false;
		}
		let testMode;
		if (typeof __react_refresh_test__ !== 'undefined') {
			testMode = __react_refresh_test__;
		}
		return __react_refresh_utils__.executeRuntime(
			exports,
			$ReactRefreshModuleId$,
			module.hot,
			errorOverlay,
			testMode
		);
	}
}

if (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {
	$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);
} else {
	$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);
}

/***/ })

});
//# sourceMappingURL=app-main.7c07c75bdd0bcd622e2a.hot-update.js.map