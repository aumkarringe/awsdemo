{"version":3,"sources":["metabase/legacy_mbql/util.cljc"],"mappings":"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","names":["metabase.legacy-mbql.util/normalize-token","token","metabase.util/qualified-name","clojure.string/lower-case","clojure.string/replace","cljs.core.keyword","metabase.legacy-mbql.util/mbql-clause?","x","cljs.core/sequential?","cljs.core/map-entry?","cljs.core/Keyword","cljs.core/first","metabase.legacy-mbql.util/is-clause?","k-or-ks","and__5000__auto__","cljs.core/coll?","G__75896","fexpr__75895","cljs.core/set","cljs.core._EQ_","metabase.legacy-mbql.util/check-clause","metabase.legacy-mbql.util/combine-compound-filters-of-type","compound-type","subclauses","p1__75897#","cljs.core.mapcat","cljs.core/seq","cljs.core.filter","cljs.core/some?","&parents","&match","cljs.core/vector?","cljs.core/count","&match_left__75903","cljs.core.subvec","&match_left__75903_0__75905","cljs.core.nth","cljs.core.match/backtrack","e75908","js/Error","e__46214__auto__","e75907","e75906","cljs.core.partial","cljs.core/=","args","metabase.legacy-mbql.util/simplify-and-or-filter","op","cljs.core.distinct","G__75909","G__75910","metabase.legacy-mbql.util/simplify-compound-filter","cljs.core/some","simplified","cljs.core.map","cljs.core.into","cljs.core/map?","cljs.core/update-vals","cljs.core/seq?","cljs.core/vec","cljs.core/not","vec__75913","seq__75914","first__75915","cljs.core/next","vec__75916","farg","G__75919","cljs.core/seqable?","G__75920","cljs.core/second","p1__75911#","cljs.core/PersistentVector","cljs.core/rest","p1__75912#","cljs.core.mapv","metabase.legacy-mbql.util/combine-filter-clauses","filter-clause","more-filter-clauses","cljs.core/cons","metabase.legacy-mbql.util/add-filter-clause-to-inner-query","inner-query","new-clause","cljs.core.update","metabase.legacy-mbql.util/add-filter-clause","outer-query","metabase.legacy-mbql.util/desugar-inside","m","&match_0__75923","cljs.core/keyword-identical?","e75931","e75930","metabase.lib.util.match.impl/replace-in-collection","replace-75921","lat-field","lon-field","lat-max","lon-min","lat-min","lon-max","metabase.legacy-mbql.util/desugar-is-null-and-not-null","&match_0__75934","e75937","e75938","e75936","replace-75932","field","metabase.legacy-mbql.util/desugar-is-empty-and-not-empty","&match_0__75941","e75944","e75945","e75943","replace-75939","cljs.core.isa_QMARK_","cljs.core.get_in","metabase.legacy-mbql.util/replace-field-or-expression","unit","&match_0__75949","e75962","e75955","&match_left__75952","&match_left__75952_0__75954","vec__75959","e75958","e75957","e75956","replace-75946","id-or-name","opts","cljs.core.assoc","_expression","expression-name","metabase.legacy-mbql.util/desugar-time-interval","&match_0__75972","replace-75963","e76021","e75982","&match_0__75976","&match_2__75978","e75986","e75987","e75988","fexpr__76019","&match_4__75980","e76020","e75989","fexpr__76012","e76014","e75990","fexpr__76000","e75991","e75994","e75992","e75993","e75984","e75983","field-or-expression","n","options","metabase.legacy-mbql.util/desugar-does-not-contain","&match_left__76024","&match_left__76024_0__76026","e76029","e76028","e76027","replace-76022","metabase.legacy-mbql.util/desugar-multi-argument-comparisons","&match_left__76032","&match_left__76032_0__76035","iter__5480__auto__","s__76068","cljs.core/LazySeq","temp__5804__auto__","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","b__76070","cljs.core/chunk-buffer","i__76069","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__76067","cljs.core/chunk-rest","e76061","s__76064","b__76066","i__76065","iter__76063","e76062","e76060","e76046","&match_left__76039","&match_left__76039_0__76041","fexpr__76054","&match_left__76039_1__76042","s__76057","b__76059","i__76058","iter__76056","e76055","e76053","e76048","e76047","replace-76030","y","more","cljs.core.apply","cljs.core/vector","cljs.core.concat","tail","metabase.legacy-mbql.util/desugar-current-relative-datetime","&match_left__76079","&match_right__76080","or__5002__auto__","&match_0__76089","&match_2__76091","cljs.core/PROTOCOL_SENTINEL","cljs.core/native-satisfies?","cljs.core/ILookup","&match_2__76091_temporal-unit__76094","cljs.core.get","cljs.core.not_EQ_","e76099","e76097","e76096","e76095","metabase.lib.util.match.impl/match-in-collection","match-76086","&match_0__76102","&match_1__76103","e76106","e76105","e76104","replace-76100","e76085","e76084","e76083","replace-76076","clause","temporal-unit","metabase.legacy-mbql.util/temporal-extract-ops->unit","metabase.legacy-mbql.util/temporal-extract-ops","cljs.core/keys","metabase.legacy-mbql.util/desugar-temporal-extract","&match_left__76109","&match_left__76109_0__76111","G__76116","e76115","e76114","e76113","replace-76107","metabase.legacy-mbql.util/desugar-divide-with-extra-args","expression","&match_left__76119","&match_left__76119_0__76121","replace-76117","e76127","e76126","e76125","z","metabase.legacy-mbql.util/host-regex","metabase.legacy-mbql.util/domain-regex","metabase.legacy-mbql.util/subdomain-regex","metabase.legacy-mbql.util/desugar-host-and-domain","&match_0__76131","replace-76128","e76135","e76136","e76137","e76133","column","metabase.legacy-mbql.util/temporal-case-expression","user-locale","s__76152","b__76154","i__76153","iter__76151","raw-value","cljs.core.range","metabase.shared.util.time.format_unit","metabase.legacy-mbql.util/desugar-temporal-names","&match_0__76157","replace-76155","e76160","e76161","e76162","e76159","metabase.legacy-mbql.util/desugar-expression","metabase.legacy-mbql.util/maybe-desugar-expression","G__76163","metabase.legacy-mbql.predicates/FieldOrExpressionDef?","metabase.legacy-mbql.util/desugar-filter-clause","js/metabase","js/metabase.legacy-mbql","js/metabase.legacy-mbql.util","js/metabase.legacy-mbql.util.negate*","method-table__5599__auto__","cljs.core.atom","prefer-table__5600__auto__","method-cache__5601__auto__","cached-hierarchy__5602__auto__","hierarchy__5603__auto__","fexpr__76166","cljs.core/MultiFn","cljs.core.symbol","metabase.legacy-mbql.util/negate*","p__76167","vec__76168","_","subclause","p__76171","vec__76172","seq__76173","first__76174","p__76175","vec__76176","seq__76177","first__76178","p__76181","vec__76182","value","p__76185","vec__76186","p__76189","vec__76190","p__76193","vec__76194","p__76197","vec__76198","p__76201","vec__76202","p__76205","vec__76206","min-value","max-value","metabase.legacy-mbql.util/negate-filter-clause","p__76209","map__76210","cljs.core/--destructure-map","map__76211","metabase.legacy-mbql.util/query->source-table-id","source-table-id","source-query","query-type","query","cljs.core.every_pred","cljs.core/string?","cljs.core/re-matches","metabase.legacy-mbql.schema/source-table-card-id-regex","cljs.core.ex_info","metabase.shared.util.i18n/js-i18n","metabase.legacy-mbql.util/join->source-table-id","join","p__76212","vec__76213","metabase.legacy-mbql.util/add-order-by-clause","_dir","orderable","order-by-clause","existing-orderables","p__76216","vec__76217","cljs.core.comp","cljs.core/distinct","cljs.core/conj","var_args","G__76223","metabase.legacy-mbql.util/dispatch-by-clause-name-or-class","_x","clause-type","mlv2-lib-type","model-type","cljs.core/type","metabase.legacy_mbql.util.dispatch_by_clause_name_or_class","metabase.legacy-mbql.util/expression-with-name","allowed-names","G__76227","map__76228","map__76232","expressions","found","cljs.core/get","metabase.shared.util.i18n.js_i18n","metabase.legacy-mbql.util/aggregation-at-index","index","nesting-level","args__5732__auto__","len__5726__auto__","i__5727__auto__","argseq__5733__auto__","cljs.core/IndexedSeq","metabase.legacy-mbql.util/unique-name-generator","p__76235","map__76236","seq76234","self__5712__auto__","name-key-fn","unique-alias-fn","cljs.core/identity","original","suffix","id+original->unique","original->count","an-alias","metabase$legacy_mbql$util$generate_name","cljs.core.gensym","id","name-key","G__76238","fexpr__76237","cljs.core/deref","total-count","cljs.core.swap_BANG_","cljs.core/update","cljs.core.fnil","cljs.core/inc","cljs.core/assoc","candidate","G__76239","G__76240","cljs.core.pr_str","metabase.legacy-mbql.util/uniquify-names","names","p1__76241#","metabase.legacy-mbql.util/NamedAggregation","metabase.legacy-mbql.schema/aggregation-options","metabase.legacy-mbql.util/UniquelyNamedAggregations","clauses","cljs.core/distinct?","s__76243","b__76245","i__76244","vec__76246","map__76249","iter__76242","vec__76250","map__76253","_tag","_wrapped","ag-name","metabase.legacy-mbql.util/uniquify-named-aggregations","named-aggregations","unique-names","s__76255","b__76257","i__76256","vec__76258","map__76261","iter__76254","vec__76262","map__76265","_wrapped-ag","p__76266","vec__76267","wrapped-ag","unique-name","metabase.legacy-mbql.util/pre-alias-aggregations","aggregation->name-fn","aggregations","&match_0__76276","&match_2__76278","e76287","e76286","e76282","&match_left__76279","&match_left__76279_0__76281","e76285","e76284","e76283","replace-76270","metabase.legacy-mbql.util/pre-alias-and-uniquify-aggregations","metabase.legacy-mbql.util/safe-min","seq76288","cljs.core.transduce","cljs.core.completing","acc","x__5090__auto__","y__5091__auto__","p__76289","map__76290","map__76291","map__76292","map__76293","metabase.legacy-mbql.util/query->max-rows-limit","max-results","max-results-bare-rows","limit","items","mbql-limit","metabase.legacy_mbql.util.safe_min","constraints-limit","metabase.legacy-mbql.util/remove-empty","cljs.core/not-empty","s__76296","b__76298","i__76297","vec__76299","iter__76295","vec__76302","k","v","cljs.core/empty","p__76306","vec__76307","metabase.legacy-mbql.util/update-field-options","f","metabase.legacy-mbql.util/assoc-field-options","seq76310","G__76311","self__5711__auto__","kvs","p__76312","vec__76313","map__76316","metabase.legacy-mbql.util/with-temporal-unit","base-type","metabase.legacy_mbql.schema.valid_temporal_unit_for_base_type_QMARK_","metabase.legacy_mbql.util.assoc_field_options","level__73199__auto__","metabase.util.log/glogi-level","logger__73200__auto__","metabase.util.log/is-loggable?","x__73201__auto__","lambdaisland.glogi.log","metabase.util.log.format_msg","metabase.legacy-mbql.util/remove-namespaced-options","field-or-ref","cljs.core/into","cljs.core.remove","p__76317","vec__76318","cljs.core/qualified-keyword?","metabase.legacy-mbql.util/referenced-field-ids","coll","cljs.core/cat","&match_0__76323","&match_1__76324","e76328","e76327","e76326","match-76321","cljs.core/integer?","metabase.legacy-mbql.util/matching-locations","form","pred","stack","matches","temp__5802__auto__","vec__76337","loc","top","cljs.core/peek","p1__76329#","cljs.core/pop","onto-stack","p__76340","vec__76341","cljs.core.conj","cljs.core.map_indexed","metabase.legacy-mbql.util/wrap-field-id-if-needed","field-id-or-form","metabase.legacy-mbql.util/unwrap-field-clause","field-form","&match_left__76347","&match_left__76347_0__76349","e76352","e76351","e76350","match-76344","metabase.legacy-mbql.util/unwrap-field-or-expression-clause","field-or-ref-form","&match_left__76356","&match_left__76356_0__76358","e76361","e76360","e76359","match-76353","cljs.core/chunk-first"],"sourcesContent":["(ns metabase.legacy-mbql.util\n  \"Utilitiy functions for working with MBQL queries.\"\n  (:refer-clojure :exclude [replace])\n  (:require\n   [clojure.string :as str]\n   [metabase.legacy-mbql.predicates :as mbql.preds]\n   [metabase.legacy-mbql.schema :as mbql.s]\n   [metabase.legacy-mbql.schema.helpers :as schema.helpers]\n   [metabase.lib.schema.common :as lib.schema.common]\n   [metabase.lib.util.match :as lib.util.match]\n   [metabase.shared.util.i18n :as i18n]\n   [metabase.shared.util.time :as shared.ut]\n   [metabase.util :as u]\n   [metabase.util.log :as log]\n   [metabase.util.malli :as mu]\n   #?@(:clj\n       [[metabase.models.dispatch :as models.dispatch]\n        [metabase.util.i18n]])))\n\n(mu/defn normalize-token :- :keyword\n  \"Convert a string or keyword in various cases (`lisp-case`, `snake_case`, or `SCREAMING_SNAKE_CASE`) to a lisp-cased\n  keyword.\"\n  [token :- schema.helpers/KeywordOrString]\n  #_{:clj-kondo/ignore [:discouraged-var]}\n  (-> (u/qualified-name token)\n      str/lower-case\n      (str/replace #\"_\" \"-\")\n      keyword))\n\n(defn mbql-clause?\n  \"True if `x` is an MBQL clause (a sequence with a keyword as its first arg). (Since this is used by the code in\n  `normalize` this handles pre-normalized clauses as well.)\"\n  [x]\n  (and (sequential? x)\n       (not (map-entry? x))\n       (keyword? (first x))))\n\n(defn is-clause?\n  \"If `x` is an MBQL clause, and an instance of clauses defined by keyword(s) `k-or-ks`?\n\n    (is-clause? :count [:count 10])        ; -> true\n    (is-clause? #{:+ :- :* :/} [:+ 10 20]) ; -> true\"\n  [k-or-ks x]\n  (and\n   (mbql-clause? x)\n   (if (coll? k-or-ks)\n     ((set k-or-ks) (first x))\n     (= k-or-ks (first x)))))\n\n(defn check-clause\n  \"Returns `x` if it's an instance of a clause defined by keyword(s) `k-or-ks`\n\n    (check-clause :count [:count 10]) ; => [:count 10]\n    (check-clause? #{:+ :- :* :/} [:+ 10 20]) ; -> [:+ 10 20]\n    (check-clause :sum [:count 10]) ; => nil\"\n  [k-or-ks x]\n  (when (is-clause? k-or-ks x)\n    x))\n\n;;; +----------------------------------------------------------------------------------------------------------------+\n;;; |                                       Functions for manipulating queries                                       |\n;;; +----------------------------------------------------------------------------------------------------------------+\n\n(defn- combine-compound-filters-of-type [compound-type subclauses]\n  (mapcat #(lib.util.match/match-one %\n             [(_ :guard (partial = compound-type)) & args]\n             args\n             _\n             [&match])\n          subclauses))\n\n(declare simplify-compound-filter)\n\n(defn- simplify-and-or-filter\n  [op args]\n  (let [args (distinct (filter some? args))]\n    (case (count args)\n      ;; an empty filter, toss it\n      0 nil\n      ;; single arg, unwrap it\n      1 (simplify-compound-filter (first args))\n      (if (some (partial is-clause? op) args)\n        ;; clause of the same type embedded, faltten it\n        (recur op (combine-compound-filters-of-type op args))\n        ;; simplify the arguments\n        (let [simplified (map simplify-compound-filter args)]\n          (if (= simplified args)\n            ;; no change, we can stop\n            (into [op] args)\n            ;; there is a change, we might be able to simplify even further\n            (recur op simplified)))))))\n\n(defn simplify-compound-filter\n  \"Simplify compound `:and`, `:or`, and `:not` compound filters, combining or eliminating them where possible. This\n  also fixes theoretically disallowed compound filters like `:and` with only a single subclause, and eliminates `nils`\n  and duplicate subclauses from the clauses.\"\n  [x]\n  (cond\n    ;; look for filters in the values\n    (map? x) (update-vals x simplify-compound-filter)\n    (seq? x) (recur (vec x))\n    ;; not a map and not vector, leave it as is\n    (not (vector? x)) x\n    ;; an empty filter, toss it\n    (not (some some? x)) nil\n    :else (let [[op & [farg :as args]] x]\n            (case op\n              :not (if-not (seqable? farg)\n                     x\n                     (case (first farg)\n                       ;; double negation, eliminate both\n                       :not (recur (second farg))\n                       ;; use de Morgan's law to push the negation down\n                       :and (simplify-and-or-filter :or (map #(vector :not %) (rest farg)))\n                       :or  (simplify-and-or-filter :and (map #(vector :not %) (rest farg)))\n                       x))\n              :and (simplify-and-or-filter :and args)\n              :or  (simplify-and-or-filter :or args)\n              ;; simplify the elements of the vector\n              (mapv simplify-compound-filter x)))))\n\n(mu/defn combine-filter-clauses :- mbql.s/Filter\n  \"Combine two filter clauses into a single clause in a way that minimizes slapping a bunch of `:and`s together if\n  possible.\"\n  [filter-clause & more-filter-clauses]\n  (simplify-compound-filter (cons :and (cons filter-clause more-filter-clauses))))\n\n(mu/defn add-filter-clause-to-inner-query :- mbql.s/MBQLQuery\n  \"Add a additional filter clause to an *inner* MBQL query, merging with the existing filter clause with `:and` if\n  needed.\"\n  [inner-query :- mbql.s/MBQLQuery\n   new-clause  :- [:maybe mbql.s/Filter]]\n  (if-not new-clause\n    inner-query\n    (update inner-query :filter combine-filter-clauses new-clause)))\n\n(mu/defn add-filter-clause :- mbql.s/Query\n  \"Add an additional filter clause to an `outer-query`. If `new-clause` is `nil` this is a no-op.\"\n  [outer-query :- mbql.s/Query new-clause :- [:maybe mbql.s/Filter]]\n  (update outer-query :query add-filter-clause-to-inner-query new-clause))\n\n(defn desugar-inside\n  \"Rewrite `:inside` filter clauses as a pair of `:between` clauses.\"\n  [m]\n  (lib.util.match/replace m\n    [:inside lat-field lon-field lat-max lon-min lat-min lon-max]\n    [:and\n     [:between lat-field lat-min lat-max]\n     [:between lon-field lon-min lon-max]]))\n\n(defn desugar-is-null-and-not-null\n  \"Rewrite `:is-null` and `:not-null` filter clauses as simpler `:=` and `:!=`, respectively.\"\n  [m]\n  (lib.util.match/replace m\n    [:is-null field]  [:=  field nil]\n    [:not-null field] [:!= field nil]))\n\n(defn desugar-is-empty-and-not-empty\n  \"Rewrite `:is-empty` and `:not-empty` filter clauses as simpler `:=` and `:!=`, respectively.\n\n   If `:not-empty` is called on `:metabase.lib.schema.expression/emptyable` type, expand check for empty string. For\n   non-`emptyable` types act as `:is-null`. If field has nil base type it is considered not emptyable expansion wise.\"\n  [m]\n  (lib.util.match/replace m\n    [:is-empty field]\n    (if (isa? (get-in field [2 :base-type]) :metabase.lib.schema.expression/emptyable)\n      [:or [:= field nil] [:= field \"\"]]\n      [:= field nil])\n\n    [:not-empty field]\n    (if (isa? (get-in field [2 :base-type]) :metabase.lib.schema.expression/emptyable)\n      [:and [:!= field nil] [:!= field \"\"]]\n      [:!= field nil])))\n\n(defn- replace-field-or-expression\n  \"Replace a field or expression inside :time-interval\"\n  [m unit]\n  (lib.util.match/replace m\n    [:field id-or-name opts]\n    [:field id-or-name (assoc opts :temporal-unit unit)]\n\n    :expression\n    (let [[_expression expression-name opts] &match]\n      [:expression expression-name (assoc opts :temporal-unit unit)])))\n\n(defn desugar-time-interval\n  \"Rewrite `:time-interval` filter clauses as simpler ones like `:=` or `:between`.\"\n  [m]\n  (lib.util.match/replace m\n    [:time-interval field-or-expression n unit] (recur [:time-interval field-or-expression n unit nil])\n\n    ;; replace current/last/next with corresponding value of n and recur\n    [:time-interval field-or-expression :current unit options] (recur [:time-interval field-or-expression  0 unit options])\n    [:time-interval field-or-expression :last    unit options] (recur [:time-interval field-or-expression -1 unit options])\n    [:time-interval field-or-expression :next    unit options] (recur [:time-interval field-or-expression  1 unit options])\n\n    [:time-interval field-or-expression (n :guard #{-1}) unit (_ :guard :include-current)]\n    [:between\n     (replace-field-or-expression field-or-expression unit)\n     [:relative-datetime n unit]\n     [:relative-datetime 0 unit]]\n\n    [:time-interval field-or-expression (n :guard #{1}) unit (_ :guard :include-current)]\n    [:between\n     (replace-field-or-expression field-or-expression unit)\n     [:relative-datetime 0 unit]\n     [:relative-datetime n unit]]\n\n    [:time-interval field-or-expression (n :guard #{-1 0 1}) unit _]\n    [:= (replace-field-or-expression field-or-expression unit) [:relative-datetime n unit]]\n\n    [:time-interval field-or-expression (n :guard neg?) unit (_ :guard :include-current)]\n    [:between\n     (replace-field-or-expression field-or-expression unit)\n     [:relative-datetime n unit]\n     [:relative-datetime 0 unit]]\n\n    [:time-interval field-or-expression (n :guard neg?) unit _]\n    [:between\n     (replace-field-or-expression field-or-expression unit)\n     [:relative-datetime n unit]\n     [:relative-datetime -1 unit]]\n\n    [:time-interval field-or-expression n unit (_ :guard :include-current)]\n    [:between\n     (replace-field-or-expression field-or-expression unit)\n     [:relative-datetime 0 unit]\n     [:relative-datetime n unit]]\n\n    [:time-interval field-or-expression n unit _]\n    [:between\n     (replace-field-or-expression field-or-expression unit)\n     [:relative-datetime 1 unit]\n     [:relative-datetime n unit]]))\n\n(defn desugar-does-not-contain\n  \"Rewrite `:does-not-contain` filter clauses as simpler `[:not [:contains ...]]` clauses.\n\n  Note that [[desugar-multi-argument-comparisons]] will have already desugared any 3+ argument `:does-not-contain` to\n  several `[:and [:does-not-contain ...] [:does-not-contain ...] ...]` clauses, which then get rewritten here into\n  `[:and [:not [:contains ...]] [:not [:contains ...]]]`.\"\n  [m]\n  (lib.util.match/replace m\n    [:does-not-contain & args]\n    [:not (into [:contains] args)]))\n\n(defn desugar-multi-argument-comparisons\n  \"`:=`, `!=`, `:contains`, `:does-not-contain`, `:starts-with` and `:ends-with` clauses with more than 2 args\n  automatically get rewritten as compound filters.\n\n     [:= field x y]                -> [:or  [:=  field x] [:=  field y]]\n     [:!= field x y]               -> [:and [:!= field x] [:!= field y]]\n     [:does-not-contain field x y] -> [:and [:does-not-contain field x] [:does-not-contain field y]]\n\n  Note that the optional options map is in different positions for `:contains`, `:does-not-contain`, `:starts-with` and\n  `:ends-with` depending on the number of arguments. 2-argument forms use the legacy style `[:contains field x opts]`.\n  Multi-argument forms use pMBQL style with the options at index 1, **even if there are no options**:\n  `[:contains {} field x y z]`.\"\n  [m]\n  (lib.util.match/replace m\n    [:= field x y & more]\n    (apply vector :or (for [x (concat [x y] more)]\n                        [:= field x]))\n\n    [:!= field x y & more]\n    (apply vector :and (for [x (concat [x y] more)]\n                         [:!= field x]))\n\n    [(op :guard #{:contains :does-not-contain :starts-with :ends-with})\n     (opts :guard map?)\n     field x y & more]\n    (let [tail (when (seq opts) [opts])]\n      (apply vector\n           (if (= op :does-not-contain) :and :or)\n           (for [x (concat [x y] more)]\n             (into [op field x] tail))))))\n\n(defn desugar-current-relative-datetime\n  \"Replace `relative-datetime` clauses like `[:relative-datetime :current]` with `[:relative-datetime 0 <unit>]`.\n  `<unit>` is inferred from the `:field` the clause is being compared to (if any), otherwise falls back to `default.`\"\n  [m]\n  (lib.util.match/replace m\n    [clause field & (args :guard (partial some (partial = [:relative-datetime :current])))]\n    (let [temporal-unit (or (lib.util.match/match-one field [:field _ {:temporal-unit temporal-unit}] temporal-unit)\n                            :default)]\n      (into [clause field] (lib.util.match/replace args\n                             [:relative-datetime :current]\n                             [:relative-datetime 0 temporal-unit])))))\n\n(def temporal-extract-ops->unit\n  \"Mapping from the sugar syntax to extract datetime to the unit.\"\n  {[:get-year        nil]       :year-of-era\n   [:get-quarter     nil]       :quarter-of-year\n   [:get-month       nil]       :month-of-year\n   ;; default get-week mode is iso\n   [:get-week        nil]       :week-of-year-iso\n   [:get-week        :iso]      :week-of-year-iso\n   [:get-week        :us]       :week-of-year-us\n   [:get-week        :instance] :week-of-year-instance\n   [:get-day         nil]       :day-of-month\n   [:get-day-of-week nil]       :day-of-week\n   [:get-hour        nil]       :hour-of-day\n   [:get-minute      nil]       :minute-of-hour\n   [:get-second      nil]       :second-of-minute})\n\n(def ^:private temporal-extract-ops\n  (->> (keys temporal-extract-ops->unit)\n       (map first)\n       set))\n\n(defn desugar-temporal-extract\n  \"Replace datetime extractions clauses like `[:get-year field]` with `[:temporal-extract field :year]`.\"\n  [m]\n  (lib.util.match/replace m\n    [(op :guard temporal-extract-ops) field & args]\n    [:temporal-extract field (temporal-extract-ops->unit [op (first args)])]))\n\n(defn- desugar-divide-with-extra-args [expression]\n  (lib.util.match/replace expression\n    [:/ x y z & more]\n    (recur (into [:/ [:/ x y]] (cons z more)))))\n\n(def ^:private host-regex\n  ;; Extracts the \"host\" from a URL or an email.\n  ;; By host we mean the main domain name and the TLD, eg. metabase.com, amazon.co.jp, bbc.co.uk.\n  ;; For a URL, this is not the RFC3986 \"host\", which would include any subdomains and the optional `:3000` port number.\n  ;;\n  ;; For an email, this is generally the part after the @, but it will skip any subdomains:\n  ;;   someone@email.mycompany.net -> mycompany.net\n  ;;\n  ;; Referencing the indexes below:\n  ;; 1.  Positive lookbehind:\n  ;;       Just past one of:\n  ;; 2.      @  from an email or URL userinfo@ prefix\n  ;; 3.      // from a URL scheme\n  ;; 4.      .  from a previous subdomain segment\n  ;; 5.      Start of string\n  ;; 6.  Negative lookahead: don't capture www as part of the domain\n  ;; 7.  Main domain segment\n  ;; 8.  Ending in a dot\n  ;; 9.  Optional short final segment (eg. co in .co.uk)\n  ;; 10. Top-level domain\n  ;; 11. Optional :port, /path, ?query or #hash\n  ;; 12. Anchor to the end\n  ;;1   2 3  4  5 6        7          8 9                     10         11           12\n  #\"(?<=@|//|\\.|^)(?!www\\.)[^@\\.:/?#]+\\.(?:[^@\\.:/?#]{1,3}\\.)?[^@\\.:/?#]+(?=[:/?#].*$|$)\")\n\n(def ^:private domain-regex\n  ;; Deliberately no ^ at the start; there might be several subdomains before this spot.\n  ;; By \"short tail\" below, I mean a pseudo-TLD nested under a proper TLD. For example, mycompany.co.uk.\n  ;; This can accidentally capture a short domain name, eg. \"subdomain.aol.com\" -> \"subdomain\", oops.\n  ;; But there's a load of these, not a short list we can include here, so it's either preprocess the (huge) master list\n  ;; from Mozilla or accept that this regex is a bit best-effort.\n  ;; Referencing the indexes below:\n  ;; 1.  Positive lookbehind:\n  ;;       Just past one of:\n  ;; 2.      @  from an email or URL userinfo@ prefix\n  ;; 3.      // from a URL scheme\n  ;; 4.      .  from a previous subdomain segment\n  ;; 5.      Start of string\n  ;; 6.  Negative lookahead: don't capture www as the domain\n  ;; 7.  One domain segment\n  ;; 8.  Positive lookahead:\n  ;;       Either:\n  ;; 9.      Short final segment (eg. .co.uk)\n  ;; 10.     Top-level domain\n  ;; 11.     Optional :port, /path, ?query or #hash\n  ;; 12.     Anchor to end\n  ;;       Or:\n  ;; 13.     Top-level domain\n  ;; 14.     Optional :port, /path, ?query or #hash\n  ;; 15.     Anchor to end\n  ;;1   2 3  4  5 6        7          (8   9                10         11          12|  13         14           15)\n  #\"(?<=@|//|\\.|^)(?!www\\.)[^@\\.:/?#]+(?=\\.[^@\\.:/?#]{1,3}\\.[^@\\.:/?#]+(?:[:/?#].*)?$|\\.[^@\\.:/?#]+(?:[:/?#].*)?$)\")\n\n(def ^:private subdomain-regex\n  ;; This grabs the first segment that isn't \"www\", AND excludes the main domain name.\n  ;; See [[domain-regex]] for more details about how those are matched.\n  ;; Referencing the indexes below:\n  ;; 1.  Positive lookbehind:\n  ;;       Just past one of:\n  ;; 2.      @  from an email or URL userinfo@ prefix\n  ;; 3.      // from a URL scheme\n  ;; 4.      .  from a previous subdomain segment\n  ;; 5.      Start of string\n  ;; 6.  Negative lookahead: don't capture www as the domain\n  ;; 7.  Negative lookahead: don't capture the main domain name or part of the TLD\n  ;;       That would look like:\n  ;; 8.      The next segment we *would* capture as the subdomain\n  ;; 9.      Optional short segment, like \"co\" in .co.uk\n  ;; 10.     Top-level domain\n  ;; 11.     Optionally more URL things: :port or /path or ?query or #fragment\n  ;; 12.     End of string\n  ;; 13. Match the actual subdomain\n  ;; 14. Positive lookahead: the . after the subdomain, which we want to detect but not capture.\n  ;;1   2 3  4  5 6        7  8           9                    10        11           12 13       14\n  #\"(?<=@|//|\\.|^)(?!www\\.)(?![^\\.:/?#]+\\.(?:[^\\.:/?#]{1,3}\\.)?[^\\.:/?#]+(?:[:/?#].*)?$)[^\\.:/?#]+(?=\\.)\")\n\n(defn- desugar-host-and-domain [expression]\n  (lib.util.match/replace expression\n    [:host column]\n    (recur [:regex-match-first column (str host-regex)])\n    [:domain column]\n    (recur [:regex-match-first column (str domain-regex)])\n    [:subdomain column]\n    (recur [:regex-match-first column (str subdomain-regex)])))\n\n(defn- temporal-case-expression\n  \"Creates a `:case` expression with a condition for each value of the given unit.\"\n  [column unit n]\n  (let [user-locale #?(:clj  (metabase.util.i18n/user-locale)\n                       :cljs nil)]\n    [:case\n     (vec (for [raw-value (range 1 (inc n))]\n            [[:= column raw-value] (shared.ut/format-unit raw-value unit user-locale)]))\n     {:default \"\"}]))\n\n(defn- desugar-temporal-names\n  \"Given an expression like `[:month-name column]`, transforms this into a `:case` expression, which matches the input\n  numbers and transforms them into names.\n\n  Uses the user's locale rather than the site locale, so the results will depend on the runner of the query, not just\n  the query itself. Filtering should be done based on the number, rather than the name.\"\n  [expression]\n  (lib.util.match/replace expression\n    [:month-name column]\n    (recur (temporal-case-expression column :month-of-year 12))\n    [:quarter-name column]\n    (recur (temporal-case-expression column :quarter-of-year 4))\n    [:day-name column]\n    (recur (temporal-case-expression column :day-of-week 7))))\n\n(mu/defn desugar-expression :- ::mbql.s/FieldOrExpressionDef\n  \"Rewrite various 'syntactic sugar' expressions like `:/` with more than two args into something simpler for drivers\n  to compile.\"\n  [expression :- ::mbql.s/FieldOrExpressionDef]\n  (-> expression\n      desugar-divide-with-extra-args\n      desugar-host-and-domain\n      desugar-temporal-names))\n\n(defn- maybe-desugar-expression [clause]\n  (cond-> clause\n    (mbql.preds/FieldOrExpressionDef? clause) desugar-expression))\n\n(mu/defn desugar-filter-clause :- mbql.s/Filter\n  \"Rewrite various 'syntatic sugar' filter clauses like `:time-interval` and `:inside` as simpler, logically\n  equivalent clauses. This can be used to simplify the number of filter clauses that need to be supported by anything\n  that needs to enumerate all the possible filter types (such as driver query processor implementations, or the\n  implementation [[negate-filter-clause]] below.)\"\n  [filter-clause :- mbql.s/Filter]\n  (-> filter-clause\n      desugar-current-relative-datetime\n      desugar-multi-argument-comparisons\n      desugar-does-not-contain\n      desugar-time-interval\n      desugar-is-null-and-not-null\n      desugar-is-empty-and-not-empty\n      desugar-inside\n      simplify-compound-filter\n      desugar-temporal-extract\n      maybe-desugar-expression))\n\n(defmulti ^:private negate* first)\n\n(defmethod negate* :not [[_ subclause]]    subclause)\n(defmethod negate* :and [[_ & subclauses]] (into [:or]  (map negate* subclauses)))\n(defmethod negate* :or  [[_ & subclauses]] (into [:and] (map negate* subclauses)))\n(defmethod negate* :=   [[_ field value]]  [:!= field value])\n(defmethod negate* :!=  [[_ field value]]  [:=  field value])\n(defmethod negate* :>   [[_ field value]]  [:<= field value])\n(defmethod negate* :<   [[_ field value]]  [:>= field value])\n(defmethod negate* :>=  [[_ field value]]  [:<  field value])\n(defmethod negate* :<=  [[_ field value]]  [:>  field value])\n\n(defmethod negate* :between\n  [[_ field min-value max-value]]\n  [:or [:< field min-value] [:> field max-value]])\n\n(defmethod negate* :contains    [clause] [:not clause])\n(defmethod negate* :starts-with [clause] [:not clause])\n(defmethod negate* :ends-with   [clause] [:not clause])\n\n(mu/defn negate-filter-clause :- mbql.s/Filter\n  \"Return the logical compliment of an MBQL filter clause, generally without using `:not` (except for the string\n  filter clause types). Useful for generating highly optimized filter clauses and for drivers that do not support\n  top-level `:not` filter clauses.\"\n  [filter-clause :- mbql.s/Filter]\n  (-> filter-clause desugar-filter-clause negate* simplify-compound-filter))\n\n(mu/defn query->source-table-id :- [:maybe pos-int?]\n  \"Return the source Table ID associated with `query`, if applicable; handles nested queries as well. If `query` is\n  `nil`, returns `nil`.\n\n  Throws an Exception when it encounters a unresolved source query (i.e., the `:source-table \\\"card__id\\\"`\n  form), because it cannot return an accurate result for a query that has not yet been preprocessed.\"\n  {:arglists '([outer-query])}\n  [{{source-table-id :source-table, source-query :source-query} :query, query-type :type, :as query} :- [:maybe :map]]\n  (cond\n    ;; for native queries, there's no source table to resolve\n    (not= query-type :query)\n    nil\n\n    ;; for MBQL queries with a *native* source query, it's the same story\n    (and (nil? source-table-id) source-query (:native source-query))\n    nil\n\n    ;; for MBQL queries with an MBQL source query, recurse on the source query and try again\n    (and (nil? source-table-id) source-query)\n    (recur (assoc query :query source-query))\n\n    ;; if ID is a `card__id` form that can only mean we haven't preprocessed the query and resolved the source query.\n    ;; This is almost certainly an accident, so throw an Exception so we can make the proper fixes\n    ((every-pred string? (partial re-matches mbql.s/source-table-card-id-regex)) source-table-id)\n    (throw\n     (ex-info\n      (i18n/tru \"Error: query''s source query has not been resolved. You probably need to `preprocess` the query first.\")\n      {}))\n\n    ;; otherwise resolve the source Table\n    :else\n    source-table-id))\n\n(mu/defn join->source-table-id :- [:maybe pos-int?]\n  \"Like `query->source-table-id`, but for a join.\"\n  [join]\n  (query->source-table-id {:type :query, :query join}))\n\n(mu/defn add-order-by-clause :- mbql.s/MBQLQuery\n  \"Add a new `:order-by` clause to an MBQL `inner-query`. If the new order-by clause references a Field that is\n  already being used in another order-by clause, this function does nothing.\"\n  [inner-query                           :- mbql.s/MBQLQuery\n   [_dir orderable, :as order-by-clause] :- ::mbql.s/OrderBy]\n  (let [existing-orderables (into #{}\n                                  (map (fn [[_dir orderable]]\n                                         orderable))\n                                  (:order-by inner-query))]\n    (if (existing-orderables orderable)\n      ;; Field already referenced, nothing to do\n      inner-query\n      ;; otherwise add new clause at the end\n      (update inner-query :order-by (comp vec distinct conj) order-by-clause))))\n\n(defn dispatch-by-clause-name-or-class\n  \"Dispatch function perfect for use with multimethods that dispatch off elements of an MBQL query. If `x` is an MBQL\n  clause, dispatches off the clause name; otherwise dispatches off `x`'s class.\"\n  ([x]\n   (letfn [(clause-type [x]\n             (when (mbql-clause? x)\n               (first x)))\n           (mlv2-lib-type [x]\n             (when (map? x)\n               (:lib/type x)))\n           (model-type [#?(:clj x :cljs _x)]\n             #?(:clj (models.dispatch/model x)\n                :cljs nil))]\n     (or\n      (clause-type x)\n      (mlv2-lib-type x)\n      (model-type x)\n      (type x))))\n  ([x _]\n   (dispatch-by-clause-name-or-class x)))\n\n(mu/defn expression-with-name :- ::mbql.s/FieldOrExpressionDef\n  \"Return the expression referenced by a given `expression-name`.\"\n  [inner-query expression-name :- [:or :keyword ::lib.schema.common/non-blank-string]]\n  (let [allowed-names [(u/qualified-name expression-name) (keyword expression-name)]]\n    (loop [{:keys [expressions source-query]} inner-query, found #{}]\n      (or\n       ;; look for either string or keyword version of `expression-name` in `expressions`\n       (some (partial get expressions) allowed-names)\n       ;; otherwise, if we have a source query recursively look in that (do we allow that??)\n       (let [found (into found (keys expressions))]\n         (if source-query\n           (recur source-query found)\n           ;; failing that throw an Exception with detailed info about what we tried and what the actual expressions\n           ;; were\n           (throw (ex-info (i18n/tru \"No expression named ''{0}''\" (u/qualified-name expression-name))\n                           {:type            :invalid-query\n                            :expression-name expression-name\n                            :tried           allowed-names\n                            :found           found}))))))))\n\n(mu/defn aggregation-at-index :- ::mbql.s/Aggregation\n  \"Fetch the aggregation at index. This is intended to power aggregate field references (e.g. [:aggregation 0]).\n   This also handles nested queries, which could be potentially ambiguous if multiple levels had aggregations. To\n   support nested queries, you'll need to keep tract of how many `:source-query`s deep you've traveled; pass in this\n   number to as optional arg `nesting-level` to make sure you reference aggregations at the right level of nesting.\"\n  ([query index]\n   (aggregation-at-index query index 0))\n\n  ([query         :- mbql.s/Query\n    index         :- ::lib.schema.common/int-greater-than-or-equal-to-zero\n    nesting-level :- ::lib.schema.common/int-greater-than-or-equal-to-zero]\n   (if (zero? nesting-level)\n     (or (nth (get-in query [:query :aggregation]) index)\n         (throw (ex-info (i18n/tru \"No aggregation at index: {0}\" index) {:index index})))\n     ;; keep recursing deeper into the query until we get to the same level the aggregation reference was defined at\n     (recur {:query (get-in query [:query :source-query])} index (dec nesting-level)))))\n\n;;; --------------------------------- Unique names & transforming ags to have names ----------------------------------\n\n(defn unique-name-generator\n  \"Return a function that can be used to uniquify string names. Function maintains an internal counter that will suffix\n  any names passed to it as needed so all results will be unique.\n\n    (let [unique-name (unique-name-generator)]\n      [(unique-name \\\"A\\\")\n       (unique-name \\\"B\\\")\n       (unique-name \\\"A\\\")])\n    ;; -> [\\\"A\\\" \\\"B\\\" \\\"A_2\\\"]\n\n  By default, unique aliases are generated for each unique `[id original-name]` key pair. By default, a unique `id` is\n  generated for every call, meaning repeated calls to [[unique-name-generator]] with the same `original-name` will\n  return different unique aliases. If idempotence is desired, the function returned by the generator also has a 2\n  airity version with the signature\n\n    (unique-name-fn id original-name)\n\n  for example:\n\n    (let [unique-name (unique-name-generator)]\n      [(unique-name :x \\\"A\\\")\n       (unique-name :x \\\"B\\\")\n       (unique-name :x \\\"A\\\")\n       (unique-name :y \\\"A\\\")])\n    ;; -> [\\\"A\\\" \\\"B\\\" \\\"A\\\" \\\"A_2\\\"]\n\n  Finally, [[unique-name-generator]] accepts the following options to further customize behavior:\n\n  ### `:name-key-fn`\n\n  Generated aliases are unique by the value of `[id (name-key-fn original-name)]`; the default is `identity`, so by\n  default aliases are unique by `[id name-key-fn]`. Specify something custom here if you want to make the unique\n  aliases unique by some other value, for example to make them unique without regards to case:\n\n    (let [f (unique-name-generator :name-key-fn str/lower-case)]\n      [(f \\\"x\\\")\n       (f \\\"X\\\")\n       (f \\\"X\\\")])\n    ;; -> [\\\"x\\\" \\\"X_2\\\" \\\"X_3\\\"]\n\n  This is useful for databases that treat column aliases as case-insensitive (see #19618 for some examples of this).\n\n  ### `:unique-alias-fn`\n\n  The function used to generate a potentially-unique alias given an original alias and unique suffix with the signature\n\n    (unique-alias-fn original suffix)\n\n  By default, combines them like `original_suffix`, but you can supply a custom function if you need to change this\n  behavior:\n\n    (let [f (unique-name-generator :unique-alias-fn (fn [x y] (format \\\"%s~~%s\\\" y x)))]\n      [(f \\\"x\\\")\n       (f \\\"x\\\")])\n  ;; -> [\\\"x\\\" \\\"2~~x\\\"]\n\n  This is useful if you need to constrain the generated suffix in some way, for example by limiting its length or\n  escaping characters disallowed in a column alias.\n\n  Values generated by this function are recursively checked for uniqueness, and will keep trying values a unique value\n  is generated; for this reason the function *must* return a unique value for every unique input. Use caution when\n  limiting the length of the identifier generated (consider appending a hash in cases like these).\"\n  [& {:keys [name-key-fn unique-alias-fn]\n      :or   {name-key-fn     identity\n             unique-alias-fn (fn [original suffix]\n                               (str original \\_ suffix))}}]\n  (let [id+original->unique (atom {})   ; map of [id original-alias] -> unique-alias\n        original->count     (atom {})]  ; map of original-alias -> count\n    (fn generate-name\n      ([an-alias]\n       (generate-name (gensym) an-alias))\n\n      ([id original]\n       (let [name-key (name-key-fn original)]\n         (or\n          ;; if we already have generated an alias for this key (e.g. `[id original]`), return it as-is.\n          (@id+original->unique [id name-key])\n          ;; otherwise generate a new unique alias.\n          ;; see if we're the first to try to use this candidate alias. Update the usage count in `original->count`\n          (let [total-count (get (swap! original->count update name-key (fnil inc 0)) name-key)]\n            (if (= total-count 1)\n              ;; if we are the first to do it, record it in `id+original->unique` and return it.\n              (do\n                (swap! id+original->unique assoc [id name-key] original)\n                original)\n              ;; otherwise prefix the alias by the current total count (e.g. `id` becomes `id_2`) and recur. If `id_2`\n              ;; is unused, it will get returned. Otherwise we'll recursively try `id_2_2`, and so forth.\n              (let [candidate (unique-alias-fn original (str total-count))]\n                ;; double-check that `unique-alias-fn` isn't doing something silly like truncating the generated alias\n                ;; to aggressively or forgetting to include the `suffix` -- otherwise we could end up with an infinite\n                ;; loop\n                (assert (not= candidate original)\n                        (str \"unique-alias-fn must return a different string than its input. Input: \"\n                             (pr-str candidate)))\n                (swap! id+original->unique assoc [id name-key] candidate)\n                (recur id candidate))))))))))\n\n(mu/defn uniquify-names :- [:and\n                            [:sequential :string]\n                            [:fn\n                             {:error/message \"sequence of unique strings\"}\n                             distinct?]]\n  \"Make the names in a sequence of string names unique by adding suffixes such as `_2`.\n\n     (uniquify-names [\\\"count\\\" \\\"sum\\\" \\\"count\\\" \\\"count_2\\\"])\n     ;; -> [\\\"count\\\" \\\"sum\\\" \\\"count_2\\\" \\\"count_2_2\\\"]\"\n  [names :- [:sequential :string]]\n  (map (unique-name-generator) names))\n\n(def ^:private NamedAggregation\n  [:and\n   mbql.s/aggregation-options\n   [:fn\n    {:error/message \"`:aggregation-options` with a `:name`\"}\n    #(:name (nth % 2))]])\n\n(def ^:private UniquelyNamedAggregations\n  [:and\n   [:sequential NamedAggregation]\n   [:fn\n    {:error/message \"sequence of named aggregations with unique names\"}\n    (fn [clauses]\n      (apply distinct? (for [[_tag _wrapped {ag-name :name}] clauses]\n                         ag-name)))]])\n\n(mu/defn uniquify-named-aggregations :- UniquelyNamedAggregations\n  \"Make the names of a sequence of named aggregations unique by adding suffixes such as `_2`.\"\n  [named-aggregations :- [:sequential NamedAggregation]]\n  (let [unique-names (uniquify-names\n                      (for [[_ _wrapped-ag {ag-name :name}] named-aggregations]\n                        ag-name))]\n    (map\n     (fn [[_ wrapped-ag options] unique-name]\n       [:aggregation-options wrapped-ag (assoc options :name unique-name)])\n     named-aggregations\n     unique-names)))\n\n(mu/defn pre-alias-aggregations :- [:sequential NamedAggregation]\n  \"Wrap every aggregation clause in an `:aggregation-options` clause, using the name returned\n  by `(aggregation->name-fn ag-clause)` as names for any clauses that do not already have a `:name` in\n  `:aggregation-options`.\n\n    (pre-alias-aggregations annotate/aggregation-name\n     [[:count] [:count] [:aggregation-options [:sum [:field 1 nil] {:name \\\"Sum-41\\\"}]])\n    ;; -> [[:aggregation-options [:count] {:name \\\"count\\\"}]\n           [:aggregation-options [:count] {:name \\\"count\\\"}]\n           [:aggregation-options [:sum [:field 1 nil]] {:name \\\"Sum-41\\\"}]]\n\n  Most often, `aggregation->name-fn` will be something like `annotate/aggregation-name`, but for purposes of keeping\n  the `metabase.legacy-mbql` module seperate from the `metabase.query-processor` code we'll let you pass that in yourself.\"\n  [aggregation->name-fn :- fn?\n   aggregations         :- [:sequential ::mbql.s/Aggregation]]\n  (lib.util.match/replace aggregations\n    [:aggregation-options _ (_ :guard :name)]\n    &match\n\n    [:aggregation-options wrapped-ag options]\n    [:aggregation-options wrapped-ag (assoc options :name (aggregation->name-fn wrapped-ag))]\n\n    [(_ :guard keyword?) & _]\n    [:aggregation-options &match {:name (aggregation->name-fn &match)}]))\n\n(mu/defn pre-alias-and-uniquify-aggregations :- UniquelyNamedAggregations\n  \"Wrap every aggregation clause in a `:named` clause with a unique name. Combines `pre-alias-aggregations` with\n  `uniquify-named-aggregations`.\"\n  [aggregation->name-fn :- fn?\n   aggregations         :- [:sequential ::mbql.s/Aggregation]]\n  (-> (pre-alias-aggregations aggregation->name-fn aggregations)\n      uniquify-named-aggregations))\n\n(defn- safe-min [& args]\n  (transduce\n   (filter some?)\n   (completing\n    (fn [acc n]\n      (if acc\n        (min acc n)\n        n)))\n   nil\n   args))\n\n(defn query->max-rows-limit\n  \"Calculate the absolute maximum number of results that should be returned by this query (MBQL or native), useful for\n  doing the equivalent of\n\n    java.sql.Statement statement = ...;\n    statement.setMaxRows(<max-rows-limit>).\n\n  to ensure the DB cursor or equivalent doesn't fetch more rows than will be consumed.\n\n  This is calculated as follows:\n\n  *  If query is `MBQL` and has a `:limit` or `:page` clause, returns appropriate number\n  *  If query has `:constraints` with `:max-results-bare-rows` or `:max-results`, returns the appropriate number\n     *  `:max-results-bare-rows` is returned if set and Query does not have any aggregations\n     *  `:max-results` is returned otherwise\n  *  If none of the above are set, returns `nil`. In this case, you should use something like the Metabase QP's\n     `max-rows-limit`\"\n  [{{:keys [max-results max-results-bare-rows]}                      :constraints\n    {limit :limit, aggregations :aggregation, {:keys [items]} :page} :query\n    query-type                                                       :type}]\n  (let [mbql-limit        (when (= query-type :query)\n                            (safe-min items limit))\n        constraints-limit (or\n                           (when-not aggregations\n                             max-results-bare-rows)\n                           max-results)]\n    (safe-min mbql-limit constraints-limit)))\n\n(defn- remove-empty [x]\n  (cond\n    (map? x)\n    (not-empty (into {} (for [[k v] x\n                              :let  [v (remove-empty v)]\n                              :when (some? v)]\n                          [k v])))\n\n    (sequential? x)\n    (not-empty (into (empty x) (filter some? (map remove-empty x))))\n\n    :else\n    x))\n\n(mu/defn update-field-options :- mbql.s/Reference\n  \"Like [[clojure.core/update]], but for the options in a `:field`, `:expression`, or `:aggregation` clause.\"\n  {:arglists '([field-or-ag-ref-or-expression-ref f & args])}\n  [[clause-type id-or-name opts] :- mbql.s/Reference f & args]\n  (let [opts (not-empty (remove-empty (apply f opts args)))]\n    ;; `:field` clauses should have a `nil` options map if there are no options. `:aggregation` and `:expression`\n    ;; should get the arg removed if it's `nil` or empty. (For now. In the future we may change this if we make the\n    ;; 3-arg versions the \"official\" normalized versions.)\n    (cond\n      opts                   [clause-type id-or-name opts]\n      (= clause-type :field) [clause-type id-or-name nil]\n      :else                  [clause-type id-or-name])))\n\n(defn assoc-field-options\n  \"Like [[clojure.core/assoc]], but for the options in a `:field`, `:expression`, or `:aggregation` clause.\"\n  [clause & kvs]\n  (apply update-field-options clause assoc kvs))\n\n(defn with-temporal-unit\n  \"Set the `:temporal-unit` of a `:field` clause to `unit`.\"\n  [[_ _ {:keys [base-type]} :as clause] unit]\n  ;; it doesn't make sense to call this on an `:expression` or `:aggregation`.\n  (assert (is-clause? :field clause))\n  (if (or (not base-type)\n          (mbql.s/valid-temporal-unit-for-base-type? base-type unit))\n    (assoc-field-options clause :temporal-unit unit)\n    (do\n      (log/warnf \"%s is not a valid temporal unit for %s; not adding to clause %s\" unit base-type (pr-str clause))\n      clause)))\n\n(defn remove-namespaced-options\n  \"Update a `:field`, `:expression` reference, or `:aggregation` reference clause by removing all namespaced keys in the\n  options map. This is mainly for clause equality comparison purposes -- in current usage namespaced keys are used by\n  individual pieces of middleware or driver implementations for tracking little bits of information that should not be\n  considered relevant when comparing clauses for equality.\"\n  [field-or-ref]\n  (update-field-options field-or-ref (partial into {} (remove (fn [[k _]]\n                                                                (qualified-keyword? k))))))\n\n(defn referenced-field-ids\n  \"Find all the `:field` references with integer IDs in `coll`, which can be a full MBQL query, a snippet of MBQL, or a\n  sequence of those things; return a set of Field IDs. Includes Fields referenced indirectly via `:source-field`.\n  Returns `nil` if no IDs are found.\"\n  [coll]\n  (not-empty\n   (into #{}\n         (comp cat (filter some?))\n         (lib.util.match/match coll\n           [:field (id :guard integer?) opts]\n           [id (:source-field opts)]))))\n\n(defn matching-locations\n  \"Find the forms matching pred, returns a list of tuples of location (as used in get-in) and the match.\"\n  [form pred]\n  (loop [stack [[[] form]], matches []]\n    (if-let [[loc form :as top] (peek stack)]\n      (let [stack (pop stack)\n            onto-stack #(into stack (map (fn [[k v]] [(conj loc k) v])) %)]\n        (cond\n          (pred form)        (recur stack                                  (conj matches top))\n          (map? form)        (recur (onto-stack form)                      matches)\n          (sequential? form) (recur (onto-stack (map-indexed vector form)) matches)\n          :else              (recur stack                                  matches)))\n      matches)))\n\n(defn wrap-field-id-if-needed\n  \"Wrap a raw Field ID in a `:field` clause if needed.\"\n  [field-id-or-form]\n  (cond\n    (mbql-clause? field-id-or-form)\n    field-id-or-form\n\n    (integer? field-id-or-form)\n    [:field field-id-or-form nil]\n\n    :else\n    field-id-or-form))\n\n(mu/defn unwrap-field-clause :- [:maybe mbql.s/field]\n  \"Unwrap something that contains a `:field` clause, such as a template tag.\n  Also handles unwrapped integers for legacy compatibility.\n\n    (unwrap-field-clause [:field 100 nil]) ; -> [:field 100 nil]\"\n  [field-form]\n  (if (integer? field-form)\n    [:field field-form nil]\n    (lib.util.match/match-one field-form :field)))\n\n(mu/defn unwrap-field-or-expression-clause :- mbql.s/Field\n  \"Unwrap a `:field` clause or expression clause, such as a template tag. Also handles unwrapped integers for\n  legacy compatibility.\"\n  [field-or-ref-form]\n  (or (unwrap-field-clause field-or-ref-form)\n      (lib.util.match/match-one field-or-ref-form :expression)))\n"]}