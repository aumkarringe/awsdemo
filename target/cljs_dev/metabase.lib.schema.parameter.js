var $CLJS = require("./cljs_env");
var $jscomp = $CLJS.$jscomp;
var COMPILED = false;
require("./cljs.core.js");
require("./metabase.lib.schema.common.js");
require("./metabase.util.malli.registry.js");
var cognitect=$CLJS.cognitect || ($CLJS.cognitect = {});
var weavejester=$CLJS.weavejester || ($CLJS.weavejester = {});
var borkdude=$CLJS.borkdude || ($CLJS.borkdude = {});
var module$shadow_js_shim_module$ttag=$CLJS.module$shadow_js_shim_module$ttag || ($CLJS.module$shadow_js_shim_module$ttag = {});
var clojure=$CLJS.clojure || ($CLJS.clojure = {});
var module$shadow_js_shim_module$moment_timezone=$CLJS.module$shadow_js_shim_module$moment_timezone || ($CLJS.module$shadow_js_shim_module$moment_timezone = {});
var module$shadow_js_shim_module$moment=$CLJS.module$shadow_js_shim_module$moment || ($CLJS.module$shadow_js_shim_module$moment = {});
var tailrecursion=$CLJS.tailrecursion || ($CLJS.tailrecursion = {});
var module$shadow_js_shim_module$crc_32=$CLJS.module$shadow_js_shim_module$crc_32 || ($CLJS.module$shadow_js_shim_module$crc_32 = {});
var devtools=$CLJS.devtools || ($CLJS.devtools = {});
var cljs=$CLJS.cljs || ($CLJS.cljs = {});
var inflections=$CLJS.inflections || ($CLJS.inflections = {});
var net=$CLJS.net || ($CLJS.net = {});
var shadow=$CLJS.shadow || ($CLJS.shadow = {});
var goog=$CLJS.goog || ($CLJS.goog = {});
var camel_snake_kebab=$CLJS.camel_snake_kebab || ($CLJS.camel_snake_kebab = {});
var flatland=$CLJS.flatland || ($CLJS.flatland = {});
var lambdaisland=$CLJS.lambdaisland || ($CLJS.lambdaisland = {});
var medley=$CLJS.medley || ($CLJS.medley = {});
var no=$CLJS.no || ($CLJS.no = {});
var metabase=$CLJS.metabase || ($CLJS.metabase = {});
var malli=$CLJS.malli || ($CLJS.malli = {});
var com=$CLJS.com || ($CLJS.com = {});

$CLJS.SHADOW_ENV.setLoaded("metabase.lib.schema.parameter.js");

goog.provide('metabase.lib.schema.parameter');
/**
 * Some clauses, like `:contains`, have optional `options` last in their binary form, and required options first in
 *   variadic form.
 */
metabase.lib.schema.parameter.variadic_opts_first = (function metabase$lib$schema$parameter$variadic_opts_first(p__75192,options){
var vec__75193 = p__75192;
var seq__75194 = cljs.core.seq(vec__75193);
var first__75195 = cljs.core.first(seq__75194);
var seq__75194__$1 = cljs.core.next(seq__75194);
var tag = first__75195;
var args = seq__75194__$1;
var clause = vec__75193;
if((cljs.core.count(args) <= (2))){
var G__75196 = clause;
if(cljs.core.truth_(options)){
return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(G__75196,options);
} else {
return G__75196;
}
} else {
return cljs.core.into.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [tag,(function (){var or__5002__auto__ = options;
if(cljs.core.truth_(or__5002__auto__)){
return or__5002__auto__;
} else {
return cljs.core.PersistentArrayMap.EMPTY;
}
})()], null),args);
}
});
/**
 * Map of parameter-type -> info. Info is a map with the following keys:
 * 
 *   ### `:type`
 * 
 *   The general type of this parameter. `:numeric`, `:string`, `:boolean`, or `:date`, if applicable. Some parameter
 *   types like `:id` and `:category` don't have a particular `:type`. This is offered mostly so we can group stuff
 *   together or determine things like whether a given parameter is a date parameter.
 * 
 *   ### `:operator`
 * 
 *   Signifies this is one of the new 'operator' parameter types added in 0.39.0 or so. These parameters can only be used
 *   for [[TemplateTag:FieldFilter]]s or for Dashboard parameters mapped to MBQL queries. The value of this key is the
 *   arity for the parameter, either `:unary`, `:binary`, or `:variadic`. See
 *   the [[metabase.driver.common.parameters.operators]] namespace for more information.
 * 
 *   ### `:allowed-for`
 * 
 *   [[Parameter]]s with this `:type` may be supplied for [[TemplateTag]]s with these `:type`s (or `:widget-type` if
 *   `:type` is `:dimension`) types. Example: it is ok to pass a parameter of type `:date/range` for template tag with
 *   `:widget-type` `:date/all-options`; but it is NOT ok to pass a parameter of type `:date/range` for a template tag
 *   with a widget type `:date`. Why? It's a potential security risk if someone creates a Card with an "exact-match"
 *   Field filter like `:date` or `:text` and you pass in a parameter like `string/!=` `NOTHING_WILL_MATCH_THIS`.
 *   Non-exact-match parameters can be abused to enumerate *all* the rows in a table when the parameter was supposed to
 *   lock the results down to a single row or set of rows.
 * 
 *   ### `:options-fn`
 * 
 *   Optional, specifies a function `(f clause-without-options options-map-or-nil) => clause-with-options` to be used for
 *   attaching the options. The default is to `conj` non-nil options on the end.
 */
metabase.lib.schema.parameter.types = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"category","category",-593092832),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword("string","!=","string/!=",-1083772573),new cljs.core.Keyword("number","=","number/=",-2094581309),new cljs.core.Keyword("string","ends-with","string/ends-with",302681156),new cljs.core.Keyword("location","state","location/state",-114378652),new cljs.core.Keyword("number","between","number/between",97700581),new cljs.core.Keyword("date","all-options","date/all-options",549325958),new cljs.core.Keyword(null,"number","number",1570378438),new cljs.core.Keyword("number",">=","number/>=",-1670691032),new cljs.core.Keyword("location","country","location/country",1666636202),new cljs.core.Keyword(null,"temporal-unit","temporal-unit",-1892306358),new cljs.core.Keyword("string","=","string/=",983744235),new cljs.core.Keyword("string","does-not-contain","string/does-not-contain",-1536178964),new cljs.core.Keyword("date","range","date/range",1647265776),new cljs.core.Keyword("string","starts-with","string/starts-with",1266861170),new cljs.core.Keyword("string","contains","string/contains",1602423827),new cljs.core.Keyword("date","single","date/single",1554682003),new cljs.core.Keyword("location","city","location/city",-1746973325),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword("date","relative","date/relative",25987732),new cljs.core.Keyword("location","zip_code","location/zip_code",1641155222),new cljs.core.Keyword("date","month-year","date/month-year",1948031290),new cljs.core.Keyword("date","quarter-year","date/quarter-year",-1453950150),new cljs.core.Keyword("number","!=","number/!=",-673025509),new cljs.core.Keyword(null,"boolean","boolean",-1919418404),new cljs.core.Keyword(null,"text","text",-1790561697),new cljs.core.Keyword("number","<=","number/<=",-1499316353)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"category","category",-593092832),null,new cljs.core.Keyword(null,"date","date",-1463434462),null,new cljs.core.Keyword(null,"number","number",1570378438),null,new cljs.core.Keyword(null,"boolean","boolean",-1919418404),null,new cljs.core.Keyword(null,"text","text",-1790561697),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"category","category",-593092832),null,new cljs.core.Keyword(null,"date","date",-1463434462),null,new cljs.core.Keyword("date","all-options","date/all-options",549325958),null,new cljs.core.Keyword("date","single","date/single",1554682003),null,new cljs.core.Keyword(null,"id","id",-1388402092),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"variadic","variadic",882626057),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("string","!=","string/!=",-1083772573),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"numeric","numeric",-1495594714),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"variadic","variadic",882626057),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"category","category",-593092832),null,new cljs.core.Keyword("number","=","number/=",-2094581309),null,new cljs.core.Keyword(null,"number","number",1570378438),null,new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword("location","zip_code","location/zip_code",1641155222),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"variadic","variadic",882626057),new cljs.core.Keyword(null,"options-fn","options-fn",-378273055),metabase.lib.schema.parameter.variadic_opts_first,new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("string","ends-with","string/ends-with",302681156),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("location","state","location/state",-114378652),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"numeric","numeric",-1495594714),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"binary","binary",-1802232288),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("number","between","number/between",97700581),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("date","all-options","date/all-options",549325958),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"numeric","numeric",-1495594714),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"category","category",-593092832),null,new cljs.core.Keyword("number","=","number/=",-2094581309),null,new cljs.core.Keyword(null,"number","number",1570378438),null,new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword("location","zip_code","location/zip_code",1641155222),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"numeric","numeric",-1495594714),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"unary","unary",-989314568),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("number",">=","number/>=",-1670691032),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("location","country","location/country",1666636202),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"temporal-unit","temporal-unit",-1892306358),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"variadic","variadic",882626057),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"category","category",-593092832),null,new cljs.core.Keyword("location","state","location/state",-114378652),null,new cljs.core.Keyword("location","country","location/country",1666636202),null,new cljs.core.Keyword("string","=","string/=",983744235),null,new cljs.core.Keyword("location","city","location/city",-1746973325),null,new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword("location","zip_code","location/zip_code",1641155222),null,new cljs.core.Keyword(null,"text","text",-1790561697),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"variadic","variadic",882626057),new cljs.core.Keyword(null,"options-fn","options-fn",-378273055),metabase.lib.schema.parameter.variadic_opts_first,new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("string","does-not-contain","string/does-not-contain",-1536178964),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("date","all-options","date/all-options",549325958),null,new cljs.core.Keyword("date","range","date/range",1647265776),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"variadic","variadic",882626057),new cljs.core.Keyword(null,"options-fn","options-fn",-378273055),metabase.lib.schema.parameter.variadic_opts_first,new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("string","starts-with","string/starts-with",1266861170),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"variadic","variadic",882626057),new cljs.core.Keyword(null,"options-fn","options-fn",-378273055),metabase.lib.schema.parameter.variadic_opts_first,new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("string","contains","string/contains",1602423827),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"category","category",-593092832),null,new cljs.core.Keyword(null,"date","date",-1463434462),null,new cljs.core.Keyword("date","all-options","date/all-options",549325958),null,new cljs.core.Keyword("date","single","date/single",1554682003),null,new cljs.core.Keyword(null,"id","id",-1388402092),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("location","city","location/city",-1746973325),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("date","all-options","date/all-options",549325958),null,new cljs.core.Keyword("date","relative","date/relative",25987732),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("location","zip_code","location/zip_code",1641155222),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("date","all-options","date/all-options",549325958),null,new cljs.core.Keyword("date","month-year","date/month-year",1948031290),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("date","all-options","date/all-options",549325958),null,new cljs.core.Keyword("date","quarter-year","date/quarter-year",-1453950150),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"numeric","numeric",-1495594714),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"variadic","variadic",882626057),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("number","!=","number/!=",-673025509),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"boolean","boolean",-1919418404),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"category","category",-593092832),null,new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"boolean","boolean",-1919418404),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"category","category",-593092832),null,new cljs.core.Keyword("location","state","location/state",-114378652),null,new cljs.core.Keyword("location","country","location/country",1666636202),null,new cljs.core.Keyword("string","=","string/=",983744235),null,new cljs.core.Keyword("location","city","location/city",-1746973325),null,new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword("location","zip_code","location/zip_code",1641155222),null,new cljs.core.Keyword(null,"text","text",-1790561697),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"numeric","numeric",-1495594714),new cljs.core.Keyword(null,"operator","operator",-1860875338),new cljs.core.Keyword(null,"unary","unary",-989314568),new cljs.core.Keyword(null,"allowed-for","allowed-for",122724334),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("number","<=","number/<=",-1499316353),null], null), null)], null)]);
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","type","metabase.lib.schema.parameter/type",-1856319223),cljs.core.into.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"enum","enum",1679018432),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("error","message","error/message",-502809098),"valid parameter type",new cljs.core.Keyword("decode","normalize","decode/normalize",1047511567),metabase.lib.schema.common.normalize_keyword], null)], null),cljs.core.keys(metabase.lib.schema.parameter.types)));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","widget-type","metabase.lib.schema.parameter/widget-type",-1038864894),cljs.core.into.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"enum","enum",1679018432),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("error","message","error/message",-502809098),"valid template tag widget type",new cljs.core.Keyword("decode","normalize","decode/normalize",1047511567),metabase.lib.schema.common.normalize_keyword], null),new cljs.core.Keyword(null,"none","none",1333468478)], null),cljs.core.keys(metabase.lib.schema.parameter.types)));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","legacy-field-ref","metabase.lib.schema.parameter/legacy-field-ref",-1273796838),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.legacy-mbql.schema","field","metabase.legacy-mbql.schema/field",1451423365)], null));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","legacy-expression-ref","metabase.lib.schema.parameter/legacy-expression-ref",-1879719589),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.legacy-mbql.schema","expression","metabase.legacy-mbql.schema/expression",1731832637)], null));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","dimension.target","metabase.lib.schema.parameter/dimension.target",1385834547),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"multi","multi",-190293005),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"dispatch","dispatch",1319337009),metabase.lib.schema.common.mbql_clause_tag,new cljs.core.Keyword("error","fn","error/fn",-1263293860),(function (p__75235,_){
var map__75236 = p__75235;
var map__75236__$1 = cljs.core.__destructure_map(map__75236);
var value = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__75236__$1,new cljs.core.Keyword(null,"value","value",305978217));
return ["Invalid :dimension target: must be either a :field or a :template-tag, got: ",cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([value], 0))].join('');
})], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"field","field",-1302436500),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","legacy-field-ref","metabase.lib.schema.parameter/legacy-field-ref",-1273796838)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"expression","expression",202311876),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","legacy-expression-ref","metabase.lib.schema.parameter/legacy-expression-ref",-1879719589)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"template-tag","template-tag",310841038),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","template-tag","metabase.lib.schema.parameter/template-tag",-1633885103)], null)], null)], null));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","dimension","metabase.lib.schema.parameter/dimension",1551533561),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tuple","tuple",-472667284),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"=","=",1152933628),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("decode","normalize","decode/normalize",1047511567),metabase.lib.schema.common.normalize_keyword], null),new cljs.core.Keyword(null,"dimension","dimension",543254198)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","dimension.target","metabase.lib.schema.parameter/dimension.target",1385834547)], null)], null));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","template-tag","metabase.lib.schema.parameter/template-tag",-1633885103),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tuple","tuple",-472667284),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"=","=",1152933628),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("decode","normalize","decode/normalize",1047511567),metabase.lib.schema.common.normalize_keyword], null),new cljs.core.Keyword(null,"template-tag","template-tag",310841038)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"multi","multi",-190293005),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"dispatch","dispatch",1319337009),cljs.core.map_QMARK_], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [true,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"map","map",1371690461),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword("metabase.lib.schema.common","non-blank-string","metabase.lib.schema.common/non-blank-string",-2032366619)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [false,new cljs.core.Keyword("metabase.lib.schema.common","non-blank-string","metabase.lib.schema.common/non-blank-string",-2032366619)], null)], null)], null));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","variable","metabase.lib.schema.parameter/variable",56499901),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tuple","tuple",-472667284),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"=","=",1152933628),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("decode","normalize","decode/normalize",1047511567),metabase.lib.schema.common.normalize_keyword], null),new cljs.core.Keyword(null,"variable","variable",-281346492)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","template-tag","metabase.lib.schema.parameter/template-tag",-1633885103)], null)], null));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","target","metabase.lib.schema.parameter/target",-345137028),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"multi","multi",-190293005),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"dispatch","dispatch",1319337009),metabase.lib.schema.common.mbql_clause_tag,new cljs.core.Keyword("error","fn","error/fn",-1263293860),(function (p__75237,_){
var map__75238 = p__75237;
var map__75238__$1 = cljs.core.__destructure_map(map__75238);
var value = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__75238__$1,new cljs.core.Keyword(null,"value","value",305978217));
return ["Invalid parameter :target, must be either :field, :dimension, or :variable; got: ",cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([value], 0))].join('');
})], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"field","field",-1302436500),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","legacy-field-ref","metabase.lib.schema.parameter/legacy-field-ref",-1273796838)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dimension","dimension",543254198),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","dimension","metabase.lib.schema.parameter/dimension",1551533561)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"variable","variable",-281346492),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","variable","metabase.lib.schema.parameter/variable",56499901)], null)], null)], null));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","parameter","metabase.lib.schema.parameter/parameter",-1567092974),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"map","map",1371690461),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","type","metabase.lib.schema.parameter/type",-1856319223)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),new cljs.core.Keyword("metabase.lib.schema.common","non-blank-string","metabase.lib.schema.common/non-blank-string",-2032366619)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"target","target",253001721),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","target","metabase.lib.schema.parameter/target",-345137028)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"value","value",305978217),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),new cljs.core.Keyword(null,"any","any",1705907423)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),new cljs.core.Keyword("metabase.lib.schema.common","non-blank-string","metabase.lib.schema.common/non-blank-string",-2032366619)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"slug","slug",2029314850),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),new cljs.core.Keyword("metabase.lib.schema.common","non-blank-string","metabase.lib.schema.common/non-blank-string",-2032366619)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"default","default",-1987822328),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),new cljs.core.Keyword(null,"any","any",1705907423)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"required","required",1807647006),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),new cljs.core.Keyword(null,"any","any",1705907423)], null)], null));
metabase.util.malli.registry.register_BANG_(new cljs.core.Keyword("metabase.lib.schema.parameter","parameters","metabase.lib.schema.parameter/parameters",-1970025857),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"sequential","sequential",-1082983960),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ref","ref",1289896967),new cljs.core.Keyword("metabase.lib.schema.parameter","parameter","metabase.lib.schema.parameter/parameter",-1567092974)], null)], null));

//# sourceMappingURL=metabase.lib.schema.parameter.js.map
