{"version":3,"sources":["cljs/cache.cljs"],"mappings":"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","names":["cljs$cache$CacheProtocol$lookup$dyn","x__5350__auto__","m__5351__auto__","cljs.cache/lookup","goog/typeOf","m__5349__auto__","cljs.core/missing-protocol","var_args","G__59682","js/Error","cljs$cache$CacheProtocol$has_QMARK_$dyn","cljs.cache/has?","cljs$cache$CacheProtocol$hit$dyn","cljs.cache/hit","cljs$cache$CacheProtocol$miss$dyn","cljs.cache/miss","cljs$cache$CacheProtocol$evict$dyn","cljs.cache/evict","cljs$cache$CacheProtocol$seed$dyn","cljs.cache/seed","cljs.cache/CacheProtocol","cache","e","not-found","ret","base","p1__59683#","p2__59684#","cljs.cache/default-wrapper-fn","G__59687","cljs.cache/through","item","cljs.cache.through","cljs.core/identity","value-fn","wrap-fn","G__59688","p1__59685#","G__59689","this__59642__auto__","other__59649__auto__","cljs.core._EQ_","elem__59648__auto__","fexpr__59690","fexpr__59691","cljs.core/-count","___59645__auto__","cljs.core/-seq","cljs.core/PROTOCOL_SENTINEL","k__59646__auto__","v__59647__auto__","key__59643__auto__","not-found__59644__auto__","this__5287__auto__","writer__5288__auto__","opt__5289__auto__","cljs.core/-write","cljs.cache/BasicCache","cljs.cache/->BasicCache","_","cljs.core.get","cljs.core/contains?","this","result","cljs.core.assoc","key","cljs.core.dissoc","cljs.cache/get-time","js/Date","cljs.cache/key-killer-fn","ttl","expiry","now","p1__59693#","ks","cljs.core.map","cljs.core/key","p1__59692#","cljs.core.filter","cljs.core/val","cljs.core.apply","cljs.core/dissoc","fexpr__59694","fexpr__59695","cljs.cache/TTLCache","cljs.cache/->TTLCache","ttl-ms","t","kill-old","cljs.core.into","iter__5480__auto__","s__59697","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__59699","cljs.core/chunk-buffer","i__59698","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__59696","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","x","cljs.cache/build-leastness-queue","limit","start-at","tailrecursion.priority-map/priority-map","cljs.core.concat","cljs.core.take","s__59701","b__59703","i__59702","iter__59700","k","cljs.core.range","s__59705","b__59707","i__59706","vec__59708","cljs.core.nth","iter__59704","vec__59711","fexpr__59714","fexpr__59715","cljs.cache/LRUCache","cljs.cache/->LRUCache","lru","tick","tick+","cljs.core/peek","c","l","cljs.cache/basic-cache-factory","cljs.core/map?","args__5732__auto__","len__5726__auto__","i__5727__auto__","argseq__5733__auto__","cljs.core/IndexedSeq","cljs.cache/ttl-cache-factory","p__59718","map__59719","cljs.core/--destructure-map","seq59716","G__59717","cljs.core/next","self__5711__auto__","cljs.cache/lru-cache-factory","p__59722","map__59723","seq59720","G__59721","threshold","cljs.core/chunk-first"],"sourcesContent":[";   Copyright (c) Rich Hickey. All rights reserved.\n;   The use and distribution terms for this software are covered by the\n;   Eclipse Public License 1.0 (http://opensource.org/licenses/eclipse-1.0.php)\n;   which can be found in the file epl-v10.html at the root of this distribution.\n;   By using this software in any fashion, you are agreeing to be bound by\n;   the terms of this license.\n;   You must not remove this notice, or any other, from this software.\n\n\n(ns ^{:doc \"A port of clojure/core.cache to Clojurescript\"\n      :author \"Matt Burbidge\"}\n    cljs.cache\n  (:require [tailrecursion.priority-map :refer [priority-map]])\n  (:require-macros [cljs.cache :refer [defcache]]))\n\n(defprotocol CacheProtocol\n  \"This is the protocol describing the basic cache capability.\"\n  (lookup [cache e]\n    [cache e not-found]\n    \"Retrieve the value associated with `e` if it exists, else `nil` in\n  the 2-arg case. Retrieve the value associated with `e` if it exists,\n  else `not-found` in the 3-arg case.\")\n  (has? [cache e]\n    \"Checks if the cache contains a value associated with `e`\")\n  (hit [cache e]\n    \"Is meant to be called if the cache is determined to contain a value\n  associated with `e`\")\n  (miss [cache e ret]\n    \"Is meant to be called if the cache is determined to **not** contain a\n  value associated with `e`\")\n  (evict [cache e]\n    \"Removes an entry from the cache\")\n  (seed [cache base]\n    \"Is used to signal that the cache should be created with a seed.\n  The contract is that said cache should return an instance of its\n  own type.\"))\n\n(def ^{:private true} default-wrapper-fn #(%1 %2))\n\n(defn through\n  \"The basic hit/miss logic for the cache system. Expects a wrap function and\n  value function.  The wrap function takes the value function and the item in\n  question and is expected to run the value function with the item whenever a\n  cache miss occurs.  The intent is to hide any cache-specific cells from\n  leaking into the cache logic itelf.\"\n  ([cache item] (through default-wrapper-fn identity cache item))\n  ([value-fn cache item] (through default-wrapper-fn value-fn cache item))\n  ([wrap-fn value-fn cache item]\n   (if (has? cache item)\n     (hit cache item)\n     (miss cache item (wrap-fn #(value-fn %) item)))))\n\n(defcache BasicCache [cache]\n  CacheProtocol\n  (lookup [_ item]\n    (get cache item))\n  (lookup [_ item not-found]\n    (get cache item not-found))\n  (has? [_ item]\n    (contains? cache item))\n  (hit [this item] this)\n  (miss [_ item result]\n    (BasicCache. (assoc cache item result)))\n  (evict [_ key]\n    (BasicCache. (dissoc cache key)))\n  (seed [_ base]\n    (BasicCache. base))\n  Object\n  (toString [_] (str cache)))\n\n;; TTL Cache\n\n(defn- get-time []\n  (.getTime (js/Date.)))\n\n(defn- key-killer-fn\n  \"returns a fn that dissocs expired keys from a map\"\n  [ttl expiry now]\n  (let [ks (map key (filter #(> (- now (val %)) expiry) ttl))]\n    #(apply dissoc % ks)))\n\n(defcache TTLCache [cache ttl ttl-ms]\n  CacheProtocol\n  (lookup [this item]\n    (let [ret (lookup this item ::nope)]\n      (when-not (= ret ::nope) ret)))\n  (lookup [this item not-found]\n    (if (has? this item)\n      (get cache item)\n      not-found))\n  (has? [_ item]\n    (let [t (get ttl item (- ttl-ms))]\n      (< (- (get-time)\n            t)\n         ttl-ms)))\n  (hit [this item] this)\n  (miss [this item result]\n    (let [now  (get-time)\n          kill-old (key-killer-fn ttl ttl-ms now)]\n      (TTLCache. (assoc (kill-old cache) item result)\n                 (assoc (kill-old ttl) item now)\n                 ttl-ms)))\n  (seed [_ base]\n    (let [now (get-time)]\n      (TTLCache. base\n                 (into {} (for [x base] [(key x) now]))\n                 ttl-ms)))\n  (evict [_ key]\n    (TTLCache. (dissoc cache key)\n               (dissoc ttl key)\n               ttl-ms))\n  Object\n  (toString [_]\n    (str cache \\, \\space ttl \\, \\space ttl-ms)))\n\n;; LRU Cache\n\n(defn- build-leastness-queue\n  [base limit start-at]\n  (into (priority-map)\n        (concat (take (- limit (count base)) (for [k (range (- limit) 0)] [k k]))\n                (for [[k _] base] [k start-at]))))\n\n\n(defcache LRUCache [cache lru tick limit]\n  CacheProtocol\n  (lookup [_ item]\n    (get cache item))\n  (lookup [_ item not-found]\n    (get cache item not-found))\n  (has? [_ item]\n    (contains? cache item))\n  (hit [_ item]\n    (let [tick+ (inc tick)]\n      (LRUCache. cache\n                 (if (contains? cache item)\n                   (assoc lru item tick+)\n                   lru)\n                 tick+\n                 limit)))\n  (miss [_ item result]\n    (let [tick+ (inc tick)]\n      (if (>= (count lru) limit)\n        (let [k (if (contains? lru item)\n                  item\n                  (first (peek lru))) ;; minimum-key, maybe evict case\n              c (-> cache (dissoc k) (assoc item result))\n              l (-> lru (dissoc k) (assoc item tick+))]\n          (LRUCache. c l tick+ limit))\n        (LRUCache. (assoc cache item result)  ;; no change case\n                   (assoc lru item tick+)\n                   tick+\n                   limit))))\n  (evict [this key]\n    (if (contains? cache key)\n      (LRUCache. (dissoc cache key)\n                 (dissoc lru key)\n                 (inc tick)\n                 limit)\n      this))\n  (seed [_ base]\n    (LRUCache. base\n               (build-leastness-queue base limit 0)\n               0\n               limit))\n  Object\n  (toString [_]\n    (str cache \\, \\space lru \\, \\space tick \\, \\space limit)))\n\n\n;; Factories\n\n(defn basic-cache-factory\n  \"Returns a pluggable basic cache initialied to `base`\"\n  [base]\n  {:pre [(map? base)]}\n  (BasicCache. base))\n\n(defn ttl-cache-factory\n  \"Returns a TTL cache with the cache and expiration-table initialied to `base` --\n   each with the same time-to-live.\n\n   This function also allows an optional `:ttl` argument that defines the default\n   time in milliseconds that entries are allowed to reside in the cache.\"\n  [base & {ttl :ttl :or {ttl 2000}}]\n  {:pre [(number? ttl) (<= 0 ttl)\n         (map? base)]}\n  (seed (TTLCache. {} {} ttl) base))\n\n(defn lru-cache-factory\n  \"Returns an LRU cache with the cache and usage-table initialied to `base` --\n   each entry is initialized with the same usage value.\n   This function takes an optional `:threshold` argument that defines the maximum number\n   of elements in the cache before the LRU semantics apply (default is 32).\"\n  [base & {threshold :threshold :or {threshold 32}}]\n  {:pre [(number? threshold) (< 0 threshold)\n         (map? base)]}\n  (seed (LRUCache. {} (priority-map) 0 threshold) base))\n"],"x_google_ignoreList":[0]}